{"remainingRequest":"/Users/zkk/code/program/admin-system/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zkk/code/program/admin-system/node_modules/vue-image-crop-upload/upload-1.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zkk/code/program/admin-system/node_modules/vue-image-crop-upload/upload-1.vue","mtime":499162500000},{"path":"/Users/zkk/code/program/admin-system/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zkk/code/program/admin-system/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/zkk/code/program/admin-system/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zkk/code/program/admin-system/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQondXNlIHN0cmljdCc7DQppbXBvcnQgbGFuZ3VhZ2UgZnJvbSAnLi91dGlscy9sYW5ndWFnZS5qcyc7DQppbXBvcnQgbWltZXMgZnJvbSAnLi91dGlscy9taW1lcy5qcyc7DQppbXBvcnQgZGF0YTJibG9iIGZyb20gJy4vdXRpbHMvZGF0YTJibG9iLmpzJzsNCmltcG9ydCBlZmZlY3RSaXBwbGUgZnJvbSAnLi91dGlscy9lZmZlY3RSaXBwbGUuanMnOw0KDQpleHBvcnQgZGVmYXVsdCB7DQogICAgcHJvcHM6IHsNCiAgICAgICAgLy8g5Z+f77yM5LiK5Lyg5paH5Lu2bmFtZe+8jOinpuWPkeS6i+S7tuS8muW4puS4iu+8iOWmguaenOS4gOS4qumhtemdouWkmuS4quWbvueJh+S4iuS8oOaOp+S7tu+8jOWPr+S7peWBmuWMuuWIhg0KICAgICAgICBmaWVsZDogew0KICAgICAgICAgICAgdHlwZTogU3RyaW5nLA0KICAgICAgICAgICAgJ2RlZmF1bHQnOiAnYXZhdGFyJw0KICAgICAgICB9LA0KICAgICAgICAvLyDnsbvkvLzkuo5pZO+8jOinpuWPkeS6i+S7tuS8muW4puS4iu+8iOWmguaenOS4gOS4qumhtemdouWkmuS4quWbvueJh+S4iuS8oOaOp+S7tu+8jOWPr+S7peWBmuWMuuWIhg0KICAgICAgICBraTogew0KICAgICAgICAgICAgJ2RlZmF1bHQnOiAwDQogICAgICAgIH0sDQogICAgICAgIC8vIOaYvuekuuivpeaOp+S7tuS4juWQpg0KICAgICAgICB2YWx1ZTogew0KICAgICAgICAgICAgdHdvV2F5OiB0cnVlLA0KICAgICAgICAgICAgJ2RlZmF1bHQnOiB0cnVlDQogICAgICAgIH0sDQogICAgICAgIC8vIOS4iuS8oOWcsOWdgA0KICAgICAgICB1cmw6IHsNCiAgICAgICAgICAgIHR5cGU6IFN0cmluZywNCiAgICAgICAgICAgICdkZWZhdWx0JzogJycNCiAgICAgICAgfSwNCiAgICAgICAgLy8g5YW25LuW6KaB5LiK5Lyg5paH5Lu26ZmE5bim55qE5pWw5o2u77yM5a+56LGh5qC85byPDQogICAgICAgIHBhcmFtczogew0KICAgICAgICAgICAgdHlwZTogT2JqZWN0LA0KICAgICAgICAgICAgJ2RlZmF1bHQnOiBudWxsDQogICAgICAgIH0sDQoJCS8vQWRkIGN1c3RvbSBoZWFkZXJzDQogICAgICAgIGhlYWRlcnM6IHsNCiAgICAgICAgICAgIHR5cGU6IE9iamVjdCwNCiAgICAgICAgICAgICdkZWZhdWx0JzogbnVsbA0KICAgICAgICB9LA0KICAgICAgICAvLyDliaroo4Hlm77niYfnmoTlrr0NCiAgICAgICAgd2lkdGg6IHsNCiAgICAgICAgICAgIHR5cGU6IE51bWJlciwNCiAgICAgICAgICAgIGRlZmF1bHQ6IDIwMA0KICAgICAgICB9LA0KICAgICAgICAvLyDliaroo4Hlm77niYfnmoTpq5gNCiAgICAgICAgaGVpZ2h0OiB7DQogICAgICAgICAgICB0eXBlOiBOdW1iZXIsDQogICAgICAgICAgICBkZWZhdWx0OiAyMDANCiAgICAgICAgfSwNCgkJLy8g5LiN5pi+56S65peL6L2s5Yqf6IO9DQoJCW5vUm90YXRlOiB7DQoJCQl0eXBlOiBCb29sZWFuLA0KCQkJZGVmYXVsdDogdHJ1ZQ0KCQl9LA0KCQkvLyDkuI3pooTop4jlnIblvaLlm77niYcNCgkJbm9DaXJjbGU6IHsNCgkJCXR5cGU6IEJvb2xlYW4sDQoJCQlkZWZhdWx0OiBmYWxzZQ0KCQl9LA0KCQkvLyDkuI3pooTop4jmlrnlvaLlm77niYcNCgkJbm9TcXVhcmU6IHsNCgkJCXR5cGU6IEJvb2xlYW4sDQoJCQlkZWZhdWx0OiBmYWxzZQ0KCQl9LA0KICAgICAgICAvLyDljZXmlofku7blpKflsI/pmZDliLYNCiAgICAgICAgbWF4U2l6ZTogew0KICAgICAgICAgICAgdHlwZTogTnVtYmVyLA0KICAgICAgICAgICAgJ2RlZmF1bHQnOiAxMDI0MA0KICAgICAgICB9LA0KICAgICAgICAvLyDor63oqIDnsbvlnosNCiAgICAgICAgbGFuZ1R5cGU6IHsNCiAgICAgICAgICAgIHR5cGU6IFN0cmluZywNCiAgICAgICAgICAgICdkZWZhdWx0JzogJ3poJw0KICAgICAgICB9LA0KICAgICAgICAvLyDor63oqIDljIUNCiAgICAgICAgbGFuZ0V4dDogew0KICAgICAgICAgICAgdHlwZTogT2JqZWN0LA0KICAgICAgICAgICAgJ2RlZmF1bHQnOiBudWxsDQogICAgICAgIH0sDQogICAgICAgIC8vIOWbvueJh+S4iuS8oOagvOW8jw0KICAgICAgICBpbWdGb3JtYXQ6IHsNCiAgICAgICAgICAgIHR5cGU6IFN0cmluZywNCiAgICAgICAgICAgICdkZWZhdWx0JzogJ3BuZycNCiAgICAgICAgfSwNCgkJLy8g5Zu+54mH6IOM5pmvIGpwZ+aDheWGteS4i+eUn+aViA0KCQlpbWdCZ2M6IHsNCgkJCXR5cGU6IFN0cmluZywNCgkJCSdkZWZhdWx0JzogJyNmZmYnDQoJCX0sDQogICAgICAgIC8vIOaYr+WQpuaUr+aMgei3qOWfnw0KCQl3aXRoQ3JlZGVudGlhbHM6IHsNCgkJCXR5cGU6IEJvb2xlYW4sDQoJCQknZGVmYXVsdCc6IGZhbHNlDQogICAgICAgIH0sDQogICAgICAgIG1ldGhvZDogew0KCQkJdHlwZTogU3RyaW5nLA0KCQkJJ2RlZmF1bHQnOiAnUE9TVCcNCgkJfSwNCiAgICB9LA0KICAgIGRhdGEoKSB7DQogICAgICAgIGxldCB0aGF0ID0gdGhpcywNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICBpbWdGb3JtYXQsDQogICAgICAgICAgICAgICAgbGFuZ1R5cGUsDQogICAgICAgICAgICAgICAgbGFuZ0V4dCwNCiAgICAgICAgICAgICAgICB3aWR0aCwNCiAgICAgICAgICAgICAgICBoZWlnaHQNCiAgICAgICAgICAgIH0gPSB0aGF0LA0KICAgICAgICAgICAgaXNTdXBwb3J0ZWQgPSB0cnVlLA0KICAgICAgICAgICAgYWxsb3dJbWdGb3JtYXQgPSBbDQogICAgICAgICAgICAgICAgJ2pwZycsDQogICAgICAgICAgICAgICAgJ3BuZycNCiAgICAgICAgICAgIF0sDQogICAgICAgICAgICB0ZW1wSW1nRm9ybWF0ID0gYWxsb3dJbWdGb3JtYXQuaW5kZXhPZihpbWdGb3JtYXQpID09PSAtMSA/ICdqcGcnIDogaW1nRm9ybWF0LA0KICAgICAgICAgICAgbGFuZyA9IGxhbmd1YWdlW2xhbmdUeXBlXSA/IGxhbmd1YWdlW2xhbmdUeXBlXSA6IGxhbmd1YWdlWydlbiddLA0KICAgICAgICAgICAgbWltZSA9IG1pbWVzW3RlbXBJbWdGb3JtYXRdOw0KICAgICAgICAvLyDop4TojIPlm77niYfmoLzlvI8NCiAgICAgICAgdGhhdC5pbWdGb3JtYXQgPSB0ZW1wSW1nRm9ybWF0Ow0KDQogICAgICAgIGlmIChsYW5nRXh0KSB7DQogICAgICAgICAgICBPYmplY3QuYXNzaWduKGxhbmcsIGxhbmdFeHQpOw0KICAgICAgICB9DQogICAgICAgIGlmICh0eXBlb2YgRm9ybURhdGEgIT0gJ2Z1bmN0aW9uJykgew0KICAgICAgICAgICAgaXNTdXBwb3J0ZWQgPSBmYWxzZTsNCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgLy8g5Zu+54mH55qEbWltZQ0KICAgICAgICAgICAgbWltZSwNCg0KICAgICAgICAgICAgLy8g6K+t6KiA5YyFDQogICAgICAgICAgICBsYW5nLA0KDQogICAgICAgICAgICAvLyDmtY/op4jlmajmmK/lkKbmlK/mjIHor6Xmjqfku7YNCiAgICAgICAgICAgIGlzU3VwcG9ydGVkLA0KICAgICAgICAgICAgLy8g5rWP6KeI5Zmo5piv5ZCm5pSv5oyB6Kem5bGP5LqL5Lu2DQogICAgICAgICAgICBpc1N1cHBvcnRUb3VjaDogZG9jdW1lbnQuaGFzT3duUHJvcGVydHkoIm9udG91Y2hzdGFydCIpLA0KDQogICAgICAgICAgICAvLyDmraXpqqQNCiAgICAgICAgICAgIHN0ZXA6IDEsIC8vMemAieaLqeaWh+S7tiAy5Ymq6KOBIDPkuIrkvKANCg0KICAgICAgICAgICAgLy8g5LiK5Lyg54q25oCB5Y+K6L+b5bqmDQogICAgICAgICAgICBsb2FkaW5nOiAwLCAvLzDmnKrlvIDlp4sgMeato+WcqCAy5oiQ5YqfIDPplJnor68NCiAgICAgICAgICAgIHByb2dyZXNzOiAwLA0KDQogICAgICAgICAgICAvLyDmmK/lkKbmnInplJnor6/lj4rplJnor6/kv6Hmga8NCiAgICAgICAgICAgIGhhc0Vycm9yOiBmYWxzZSwNCiAgICAgICAgICAgIGVycm9yTXNnOiAnJywNCg0KICAgICAgICAgICAgLy8g6ZyA5rGC5Zu+5a696auY5q+UDQogICAgICAgICAgICByYXRpbzogd2lkdGggLyBoZWlnaHQsDQoNCiAgICAgICAgICAgIC8vIOWOn+WbvuWcsOWdgOOAgeeUn+aIkOWbvueJh+WcsOWdgA0KICAgICAgICAgICAgc291cmNlSW1nOiBudWxsLA0KICAgICAgICAgICAgc291cmNlSW1nVXJsOiAnJywNCiAgICAgICAgICAgIGNyZWF0ZUltZ1VybDogJycsDQoNCiAgICAgICAgICAgIC8vIOWOn+WbvueJh+aLluWKqOS6i+S7tuWIneWni+WAvA0KICAgICAgICAgICAgc291cmNlSW1nTW91c2VEb3duOiB7DQogICAgICAgICAgICAgICAgb246IGZhbHNlLA0KICAgICAgICAgICAgICAgIG1YOiAwLCAvL+m8oOagh+aMieS4i+eahOWdkOaghw0KICAgICAgICAgICAgICAgIG1ZOiAwLA0KICAgICAgICAgICAgICAgIHg6IDAsIC8vc2NhbGXljp/lm77lnZDmoIcNCiAgICAgICAgICAgICAgICB5OiAwDQogICAgICAgICAgICB9LA0KDQogICAgICAgICAgICAvLyDnlJ/miJDlm77niYfpooTop4jnmoTlrrnlmajlpKflsI8NCiAgICAgICAgICAgIHByZXZpZXdDb250YWluZXI6IHsNCiAgICAgICAgICAgICAgICB3aWR0aDogMTAwLA0KICAgICAgICAgICAgICAgIGhlaWdodDogMTAwDQogICAgICAgICAgICB9LA0KDQogICAgICAgICAgICAvLyDljp/lm77lrrnlmajlrr3pq5gNCiAgICAgICAgICAgIHNvdXJjZUltZ0NvbnRhaW5lcjogeyAvLyBzaWMNCiAgICAgICAgICAgICAgICB3aWR0aDogMjQwLA0KICAgICAgICAgICAgICAgIGhlaWdodDogMTg0IC8vIOWmguaenOeUn+aIkOWbvuavlOS+i+S4juatpOS4gOiHtOS8muWHuueOsGJ1Z++8jOWFiOaUueaIkOeJueauiueahOagvOW8j+WQp++8jOWTiOWTiOWTiA0KICAgICAgICAgICAgfSwNCg0KICAgICAgICAgICAgLy8g5Y6f5Zu+5bGV56S65bGe5oCnDQogICAgICAgICAgICBzY2FsZTogew0KICAgICAgICAgICAgICAgIHpvb21BZGRPbjogZmFsc2UsIC8v5oyJ6ZKu57yp5pS+5LqL5Lu25byA5ZCvDQogICAgICAgICAgICAgICAgem9vbVN1Yk9uOiBmYWxzZSwgLy/mjInpkq7nvKnmlL7kuovku7blvIDlkK8NCiAgICAgICAgICAgICAgICByYW5nZTogMSwgLy/mnIDlpKcxMDANCg0KICAgICAgICAgICAgICAgIHg6IDAsDQogICAgICAgICAgICAgICAgeTogMCwNCiAgICAgICAgICAgICAgICB3aWR0aDogMCwNCiAgICAgICAgICAgICAgICBoZWlnaHQ6IDAsDQogICAgICAgICAgICAgICAgbWF4V2lkdGg6IDAsDQogICAgICAgICAgICAgICAgbWF4SGVpZ2h0OiAwLA0KICAgICAgICAgICAgICAgIG1pbldpZHRoOiAwLCAvL+acgOWuvQ0KICAgICAgICAgICAgICAgIG1pbkhlaWdodDogMCwNCiAgICAgICAgICAgICAgICBuYXR1cmFsV2lkdGg6IDAsIC8v5Y6f5a69DQogICAgICAgICAgICAgICAgbmF0dXJhbEhlaWdodDogMA0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfSwNCiAgICBjb21wdXRlZDogew0KICAgICAgICAvLyDov5vluqbmnaHmoLflvI8NCiAgICAgICAgcHJvZ3Jlc3NTdHlsZSgpIHsNCiAgICAgICAgICAgIGxldCB7DQogICAgICAgICAgICAgICAgcHJvZ3Jlc3MNCiAgICAgICAgICAgIH0gPSB0aGlzOw0KICAgICAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICAgICB3aWR0aDogcHJvZ3Jlc3MgKyAnJScNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgLy8g5Y6f5Zu+5qC35byPDQogICAgICAgIHNvdXJjZUltZ1N0eWxlKCkgew0KICAgICAgICAgICAgbGV0IHsNCiAgICAgICAgICAgICAgICBzY2FsZSwNCiAgICAgICAgICAgICAgICBzb3VyY2VJbWdNYXNraW5nDQogICAgICAgICAgICB9ID0gdGhpczsNCiAgICAgICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAgICAgdG9wOiBzY2FsZS55ICsgc291cmNlSW1nTWFza2luZy55ICsgJ3B4JywNCiAgICAgICAgICAgICAgICBsZWZ0OiBzY2FsZS54ICsgc291cmNlSW1nTWFza2luZy54ICsgJ3B4JywNCiAgICAgICAgICAgICAgICB3aWR0aDogc2NhbGUud2lkdGggKyAncHgnLA0KICAgICAgICAgICAgICAgIGhlaWdodDogc2NhbGUuaGVpZ2h0ICsgJ3B4Jw0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICAvLyDljp/lm77okpnniYjlsZ7mgKcNCiAgICAgICAgc291cmNlSW1nTWFza2luZygpIHsNCiAgICAgICAgICAgIGxldCB7DQoJICAgICAgICAgICAgICAgIHdpZHRoLA0KCSAgICAgICAgICAgICAgICBoZWlnaHQsDQoJICAgICAgICAgICAgICAgIHJhdGlvLA0KCSAgICAgICAgICAgICAgICBzb3VyY2VJbWdDb250YWluZXINCgkgICAgICAgICAgICB9ID0gdGhpcywNCgkgICAgICAgICAgICBzaWMgPSBzb3VyY2VJbWdDb250YWluZXIsDQogICAgICAgICAgICAgICAgc2ljUmF0aW8gPSBzaWMud2lkdGggLyBzaWMuaGVpZ2h0LCAvLyDljp/lm77lrrnlmajlrr3pq5jmr5QNCiAgICAgICAgICAgICAgICB4ID0gMCwNCiAgICAgICAgICAgICAgICB5ID0gMCwNCiAgICAgICAgICAgICAgICB3ID0gc2ljLndpZHRoLA0KICAgICAgICAgICAgICAgIGggPSBzaWMuaGVpZ2h0LA0KICAgICAgICAgICAgICAgIHNjYWxlID0gMTsNCiAgICAgICAgICAgIGlmIChyYXRpbyA8IHNpY1JhdGlvKSB7DQogICAgICAgICAgICAgICAgc2NhbGUgPSBzaWMuaGVpZ2h0IC8gaGVpZ2h0Ow0KICAgICAgICAgICAgICAgIHcgPSBzaWMuaGVpZ2h0ICogcmF0aW87DQogICAgICAgICAgICAgICAgeCA9IChzaWMud2lkdGggLSB3KSAvIDI7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZiAocmF0aW8gPiBzaWNSYXRpbykgew0KICAgICAgICAgICAgICAgIHNjYWxlID0gc2ljLndpZHRoIC8gd2lkdGg7DQogICAgICAgICAgICAgICAgaCA9IHNpYy53aWR0aCAvIHJhdGlvOw0KICAgICAgICAgICAgICAgIHkgPSAoc2ljLmhlaWdodCAtIGgpIC8gMjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAgICAgc2NhbGUsIC8vIOiSmeeJiOebuOWvuemcgOaxguWuvemrmOeahOe8qeaUvg0KICAgICAgICAgICAgICAgIHgsDQogICAgICAgICAgICAgICAgeSwNCiAgICAgICAgICAgICAgICB3aWR0aDogdywNCiAgICAgICAgICAgICAgICBoZWlnaHQ6IGgNCiAgICAgICAgICAgIH07DQogICAgICAgIH0sDQogICAgICAgIC8vIOWOn+WbvumBrue9qeagt+W8jw0KICAgICAgICBzb3VyY2VJbWdTaGFkZVN0eWxlKCkgew0KICAgICAgICAgICAgbGV0IHsNCgkgICAgICAgICAgICAgICAgc291cmNlSW1nTWFza2luZywNCgkgICAgICAgICAgICAgICAgc291cmNlSW1nQ29udGFpbmVyDQoJICAgICAgICAgICAgfSA9IHRoaXMsDQoJICAgICAgICAgICAgc2ljID0gc291cmNlSW1nQ29udGFpbmVyLA0KICAgICAgICAgICAgICAgIHNpbSA9IHNvdXJjZUltZ01hc2tpbmcsDQogICAgICAgICAgICAgICAgdyA9IHNpbS53aWR0aCA9PSBzaWMud2lkdGggPyBzaW0ud2lkdGggOiAoc2ljLndpZHRoIC0gc2ltLndpZHRoKSAvIDIsDQogICAgICAgICAgICAgICAgaCA9IHNpbS5oZWlnaHQgPT0gc2ljLmhlaWdodCA/IHNpbS5oZWlnaHQgOiAoc2ljLmhlaWdodCAtIHNpbS5oZWlnaHQpIC8gMjsNCiAgICAgICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAgICAgd2lkdGg6IHcgKyAncHgnLA0KICAgICAgICAgICAgICAgIGhlaWdodDogaCArICdweCcNCiAgICAgICAgICAgIH07DQogICAgICAgIH0sDQogICAgICAgIHByZXZpZXdTdHlsZSgpIHsNCiAgICAgICAgICAgIGxldCB7DQoJICAgICAgICAgICAgICAgIHdpZHRoLA0KCSAgICAgICAgICAgICAgICBoZWlnaHQsDQoJICAgICAgICAgICAgICAgIHJhdGlvLA0KCSAgICAgICAgICAgICAgICBwcmV2aWV3Q29udGFpbmVyDQoJICAgICAgICAgICAgfSA9IHRoaXMsDQoJICAgICAgICAgICAgcGMgPSBwcmV2aWV3Q29udGFpbmVyLA0KICAgICAgICAgICAgICAgIHcgPSBwYy53aWR0aCwNCiAgICAgICAgICAgICAgICBoID0gcGMuaGVpZ2h0LA0KICAgICAgICAgICAgICAgIHBjUmF0aW8gPSB3IC8gaDsNCiAgICAgICAgICAgIGlmIChyYXRpbyA8IHBjUmF0aW8pIHsNCiAgICAgICAgICAgICAgICB3ID0gcGMuaGVpZ2h0ICogcmF0aW87DQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZiAocmF0aW8gPiBwY1JhdGlvKSB7DQogICAgICAgICAgICAgICAgaCA9IHBjLndpZHRoIC8gcmF0aW87DQogICAgICAgICAgICB9DQogICAgICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgICAgIHdpZHRoOiB3ICsgJ3B4JywNCiAgICAgICAgICAgICAgICBoZWlnaHQ6IGggKyAncHgnDQogICAgICAgICAgICB9Ow0KICAgICAgICB9DQogICAgfSwNCiAgICB3YXRjaDogew0KICAgICAgICB2YWx1ZShuZXdWYWx1ZSkgew0KICAgICAgICAgICAgaWYgKG5ld1ZhbHVlICYmIHRoaXMubG9hZGluZyAhPSAxKSB7DQogICAgICAgICAgICAgICAgdGhpcy5yZXNldCgpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfSwNCiAgICBtZXRob2RzOiB7DQogICAgICAgIC8vIOeCueWHu+azoue6ueaViOaenA0KICAgICAgICByaXBwbGUoZSkgew0KICAgICAgICAgICAgZWZmZWN0UmlwcGxlKGUpOw0KICAgICAgICB9LA0KICAgICAgICAvLyDlhbPpl63mjqfku7YNCiAgICAgICAgb2ZmKCkgew0KICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7DQogICAgICAgICAgICAgICAgdGhpcy52YWx1ZSA9IGZhbHNlOw0KICAgICAgICAgICAgICAgIGlmKHRoaXMuc3RlcCA9PSAzICYmIHRoaXMubG9hZGluZyA9PSAyKXsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGVwKDEpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0sIDIwMCk7DQogICAgICAgIH0sDQoJCS8vIOiuvue9ruatpemqpA0KCQlzZXRTdGVwKG5vKSB7DQoJCQkvLyDlu7bml7bmmK/kuLrkuobmmL7npLrliqjnlLvmlYjmnpzlkaLvvIzlk4jlk4jlk4gNCgkJCXNldFRpbWVvdXQoKCkgPT4gew0KCQkJCXRoaXMuc3RlcCA9IG5vOw0KCQkJfSwgMjAwKTsNCgkJfSwNCiAgICAgICAgLyog5Zu+54mH6YCJ5oup5Yy65Z+f5Ye95pWw57uR5a6aDQogICAgICAgICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qLw0KICAgICAgICBwcmV2ZW50RGVmYXVsdChlKSB7DQogICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7DQoJCQlyZXR1cm4gZmFsc2U7DQogICAgICAgIH0sDQogICAgICAgIGhhbmRsZUNsaWNrKGUpIHsNCiAgICAgICAgICAgIGlmICh0aGlzLmxvYWRpbmcgIT09IDEpIHsNCiAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQgIT09IHRoaXMuJGVscy5maWxlaW5wdXQpIHsNCiAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOw0KICAgICAgICAgICAgICAgICAgICBpZiAoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCAhPT0gdGhpcy4kZWxzKSB7DQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRlbHMuZmlsZWlucHV0LmNsaWNrKCk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIGhhbmRsZUNoYW5nZShlKSB7DQogICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7DQogICAgICAgICAgICBpZiAodGhpcy5sb2FkaW5nICE9PSAxKSB7DQogICAgICAgICAgICAgICAgbGV0IGZpbGVzID0gZS50YXJnZXQuZmlsZXMgfHwgZS5kYXRhVHJhbnNmZXIuZmlsZXM7DQogICAgICAgICAgICAgICAgdGhpcy5yZXNldCgpOw0KICAgICAgICAgICAgICAgIGlmICh0aGlzLmNoZWNrRmlsZShmaWxlc1swXSkpIHsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTb3VyY2VJbWcoZmlsZXNbMF0pOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi8NCg0KICAgICAgICAvLyDmo4DmtYvpgInmi6nnmoTmlofku7bmmK/lkKblkIjpgIINCiAgICAgICAgY2hlY2tGaWxlKGZpbGUpIHsNCiAgICAgICAgICAgIGxldCB0aGF0ID0gdGhpcywNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgIGxhbmcsDQogICAgICAgICAgICAgICAgICAgIG1heFNpemUNCiAgICAgICAgICAgICAgICB9ID0gdGhhdDsNCiAgICAgICAgICAgIC8vIOS7hemZkOWbvueJhw0KICAgICAgICAgICAgaWYgKGZpbGUudHlwZS5pbmRleE9mKCdpbWFnZScpID09PSAtMSkgew0KICAgICAgICAgICAgICAgIHRoYXQuaGFzRXJyb3IgPSB0cnVlOw0KICAgICAgICAgICAgICAgIHRoYXQuZXJyb3JNc2cgPSBsYW5nLmVycm9yLm9ubHlJbWc7DQogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAvLyDotoXlh7rlpKflsI8NCiAgICAgICAgICAgIGlmIChmaWxlLnNpemUgLyAxMDI0ID4gbWF4U2l6ZSkgew0KICAgICAgICAgICAgICAgIHRoYXQuaGFzRXJyb3IgPSB0cnVlOw0KICAgICAgICAgICAgICAgIHRoYXQuZXJyb3JNc2cgPSBsYW5nLmVycm9yLm91dE9mU2l6ZSArIG1heFNpemUgKyAna2InOw0KICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHJldHVybiB0cnVlOw0KICAgICAgICB9LA0KICAgICAgICAvLyDph43nva7mjqfku7YNCiAgICAgICAgcmVzZXQoKSB7DQogICAgICAgICAgICB0aGlzLmxvYWRpbmcgPSAwOw0KICAgICAgICAgICAgdGhpcy5wcm9ncmVzcyA9IDA7DQogICAgICAgICAgICB0aGlzLmhhc0Vycm9yID0gZmFsc2U7DQogICAgICAgICAgICB0aGlzLmVycm9yTXNnID0gJyc7DQogICAgICAgIH0sDQogICAgICAgIC8vIOiuvue9ruWbvueJh+a6kA0KICAgICAgICBzZXRTb3VyY2VJbWcoZmlsZSkgew0KICAgICAgICAgICAgdGhpcy4kZGlzcGF0Y2goJ3NyY0ZpbGVTZXQnLCBmaWxlLm5hbWUsIGZpbGUudHlwZSwgZmlsZS5zaXplKTsNCgkJCWxldCB0aGF0ID0gdGhpcywNCiAgICAgICAgICAgICAgICBmciA9IG5ldyBGaWxlUmVhZGVyKCk7DQogICAgICAgICAgICBmci5vbmxvYWQgPSBmdW5jdGlvbihlKSB7DQogICAgICAgICAgICAgICAgdGhhdC5zb3VyY2VJbWdVcmwgPSBmci5yZXN1bHQ7DQogICAgICAgICAgICAgICAgdGhhdC5zdGFydENyb3AoKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGZyLnJlYWRBc0RhdGFVUkwoZmlsZSk7DQogICAgICAgIH0sDQogICAgICAgIC8vIOWJquijgeWJjeWHhuWkh+W3peS9nA0KICAgICAgICBzdGFydENyb3AoKSB7DQogICAgICAgICAgICBsZXQgdGhhdCA9IHRoaXMsDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICB3aWR0aCwNCiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0LA0KICAgICAgICAgICAgICAgICAgICByYXRpbywNCiAgICAgICAgICAgICAgICAgICAgc2NhbGUsDQogICAgICAgICAgICAgICAgICAgIHNvdXJjZUltZ1VybCwNCiAgICAgICAgICAgICAgICAgICAgc291cmNlSW1nTWFza2luZywNCiAgICAgICAgICAgICAgICAgICAgbGFuZw0KICAgICAgICAgICAgICAgIH0gPSB0aGF0LA0KICAgICAgICAgICAgICAgIHNpbSA9IHNvdXJjZUltZ01hc2tpbmcsDQogICAgICAgICAgICAgICAgaW1nID0gbmV3IEltYWdlKCk7DQogICAgICAgICAgICBpbWcuc3JjID0gc291cmNlSW1nVXJsOw0KICAgICAgICAgICAgaW1nLm9ubG9hZCA9IGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgICAgIGxldCBuV2lkdGggPSBpbWcubmF0dXJhbFdpZHRoLA0KICAgICAgICAgICAgICAgICAgICBuSGVpZ2h0ID0gaW1nLm5hdHVyYWxIZWlnaHQsDQogICAgICAgICAgICAgICAgICAgIG5SYXRpbyA9IG5XaWR0aCAvIG5IZWlnaHQsDQogICAgICAgICAgICAgICAgICAgIHcgPSBzaW0ud2lkdGgsDQogICAgICAgICAgICAgICAgICAgIGggPSBzaW0uaGVpZ2h0LA0KICAgICAgICAgICAgICAgICAgICB4ID0gMCwNCiAgICAgICAgICAgICAgICAgICAgeSA9IDA7DQogICAgICAgICAgICAgICAgLy8g5Zu+54mH5YOP57Sg5LiN6L6+5qCHDQogICAgICAgICAgICAgICAgaWYgKG5XaWR0aCA8IHdpZHRoIHx8IG5IZWlnaHQgPCBoZWlnaHQpIHsNCiAgICAgICAgICAgICAgICAgICAgdGhhdC5oYXNFcnJvciA9IHRydWU7DQogICAgICAgICAgICAgICAgICAgIHRoYXQuZXJyb3JNc2cgPSBsYW5nLmVycm9yLmxvd2VzdFB4ICsgd2lkdGggKyAnKicgKyBoZWlnaHQ7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgaWYgKHJhdGlvID4gblJhdGlvKSB7DQogICAgICAgICAgICAgICAgICAgIGggPSB3IC8gblJhdGlvOw0KICAgICAgICAgICAgICAgICAgICB5ID0gKHNpbS5oZWlnaHQgLSBoKSAvIDI7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGlmIChyYXRpbyA8IG5SYXRpbykgew0KICAgICAgICAgICAgICAgICAgICB3ID0gaCAqIG5SYXRpbzsNCiAgICAgICAgICAgICAgICAgICAgeCA9IChzaW0ud2lkdGggLSB3KSAvIDI7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHNjYWxlLnJhbmdlID0gMDsNCiAgICAgICAgICAgICAgICBzY2FsZS54ID0geDsNCiAgICAgICAgICAgICAgICBzY2FsZS55ID0geTsNCiAgICAgICAgICAgICAgICBzY2FsZS53aWR0aCA9IHc7DQogICAgICAgICAgICAgICAgc2NhbGUuaGVpZ2h0ID0gaDsNCiAgICAgICAgICAgICAgICBzY2FsZS5taW5XaWR0aCA9IHc7DQogICAgICAgICAgICAgICAgc2NhbGUubWluSGVpZ2h0ID0gaDsNCiAgICAgICAgICAgICAgICBzY2FsZS5tYXhXaWR0aCA9IG5XaWR0aCAqIHNpbS5zY2FsZTsNCiAgICAgICAgICAgICAgICBzY2FsZS5tYXhIZWlnaHQgPSBuSGVpZ2h0ICogc2ltLnNjYWxlOw0KICAgICAgICAgICAgICAgIHNjYWxlLm5hdHVyYWxXaWR0aCA9IG5XaWR0aDsNCiAgICAgICAgICAgICAgICBzY2FsZS5uYXR1cmFsSGVpZ2h0ID0gbkhlaWdodDsNCiAgICAgICAgICAgICAgICB0aGF0LnNvdXJjZUltZyA9IGltZzsNCiAgICAgICAgICAgICAgICB0aGF0LmNyZWF0ZUltZygpOw0KICAgICAgICAgICAgICAgIHRoYXQuc2V0U3RlcCgyKTsNCiAgICAgICAgICAgIH07DQogICAgICAgIH0sDQogICAgICAgIC8vIOm8oOagh+aMieS4i+WbvueJh+WHhuWkh+enu+WKqA0KICAgICAgICBpbWdTdGFydE1vdmUoZSkgew0KICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOw0KICAgICAgICAgICAgLy8g5pSv5oyB6Kem5pG45LqL5Lu277yM5YiZ6byg5qCH5LqL5Lu25peg5pWIDQogICAgICAgICAgICBpZih0aGlzLmlzU3VwcG9ydFRvdWNoICYmICFlLnRhcmdldFRvdWNoZXMpew0KICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGxldCBldCA9IGUudGFyZ2V0VG91Y2hlcyA/IGUudGFyZ2V0VG91Y2hlc1swXSA6IGUsDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICBzb3VyY2VJbWdNb3VzZURvd24sDQogICAgICAgICAgICAgICAgICAgIHNjYWxlDQogICAgICAgICAgICAgICAgfSA9IHRoaXMsDQogICAgICAgICAgICAgICAgc2ltZCA9IHNvdXJjZUltZ01vdXNlRG93bjsNCiAgICAgICAgICAgIHNpbWQubVggPSBldC5zY3JlZW5YOw0KICAgICAgICAgICAgc2ltZC5tWSA9IGV0LnNjcmVlblk7DQogICAgICAgICAgICBzaW1kLnggPSBzY2FsZS54Ow0KICAgICAgICAgICAgc2ltZC55ID0gc2NhbGUueTsNCiAgICAgICAgICAgIHNpbWQub24gPSB0cnVlOw0KICAgICAgICB9LA0KICAgICAgICAvLyDpvKDmoIfmjInkuIvnirbmgIHkuIvnp7vliqjvvIzlm77niYfnp7vliqgNCiAgICAgICAgaW1nTW92ZShlKSB7DQogICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7DQogICAgICAgICAgICAvLyDmlK/mjIHop6bmkbjkuovku7bvvIzliJnpvKDmoIfkuovku7bml6DmlYgNCiAgICAgICAgICAgIGlmKHRoaXMuaXNTdXBwb3J0VG91Y2ggJiYgIWUudGFyZ2V0VG91Y2hlcyl7DQogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgbGV0IGV0ID0gZS50YXJnZXRUb3VjaGVzID8gZS50YXJnZXRUb3VjaGVzWzBdIDogZSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgIHNvdXJjZUltZ01vdXNlRG93bjogew0KICAgICAgICAgICAgICAgICAgICAgICAgb24sDQogICAgICAgICAgICAgICAgICAgICAgICBtWCwNCiAgICAgICAgICAgICAgICAgICAgICAgIG1ZLA0KICAgICAgICAgICAgICAgICAgICAgICAgeCwNCiAgICAgICAgICAgICAgICAgICAgICAgIHkNCiAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgc2NhbGUsDQogICAgICAgICAgICAgICAgICAgIHNvdXJjZUltZ01hc2tpbmcNCiAgICAgICAgICAgICAgICB9ID0gdGhpcywNCiAgICAgICAgICAgICAgICBzaW0gPSBzb3VyY2VJbWdNYXNraW5nLA0KICAgICAgICAgICAgICAgIG5YID0gZXQuc2NyZWVuWCwNCiAgICAgICAgICAgICAgICBuWSA9IGV0LnNjcmVlblksDQogICAgICAgICAgICAgICAgZFggPSBuWCAtIG1YLA0KICAgICAgICAgICAgICAgIGRZID0gblkgLSBtWSwNCiAgICAgICAgICAgICAgICByWCA9IHggKyBkWCwNCiAgICAgICAgICAgICAgICByWSA9IHkgKyBkWTsNCiAgICAgICAgICAgIGlmICghb24pIHJldHVybjsNCiAgICAgICAgICAgIGlmIChyWCA+IDApIHsNCiAgICAgICAgICAgICAgICByWCA9IDA7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZiAoclkgPiAwKSB7DQogICAgICAgICAgICAgICAgclkgPSAwOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaWYgKHJYIDwgc2ltLndpZHRoIC0gc2NhbGUud2lkdGgpIHsNCiAgICAgICAgICAgICAgICByWCA9IHNpbS53aWR0aCAtIHNjYWxlLndpZHRoOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaWYgKHJZIDwgc2ltLmhlaWdodCAtIHNjYWxlLmhlaWdodCkgew0KICAgICAgICAgICAgICAgIHJZID0gc2ltLmhlaWdodCAtIHNjYWxlLmhlaWdodDsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHNjYWxlLnggPSByWDsNCiAgICAgICAgICAgIHNjYWxlLnkgPSByWTsNCiAgICAgICAgfSwNCgkJLy8g6aG65pe26ZKI5peL6L2s5Zu+54mHDQogICAgICAgIHJvdGF0ZUltZyhlKSB7DQoJCQlsZXQgew0KCQkJCQlzb3VyY2VJbWcsDQogICAgICAgICAgICAgICAgICAgIHNjYWxlOiB7DQoJCQkJCQluYXR1cmFsV2lkdGgsDQoJCQkJCQluYXR1cmFsSGVpZ2h0LA0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSA9IHRoaXMsDQoJCQkJd2lkdGggPSBuYXR1cmFsSGVpZ2h0LA0KCQkJCWhlaWdodCA9IG5hdHVyYWxXaWR0aCwNCiAgICAgICAgICAgICAgICBjYW52YXMgPSB0aGlzLiRlbHMuY2FudmFzLA0KICAgICAgICAgICAgICAgIGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpOw0KCQkJY2FudmFzLndpZHRoID0gd2lkdGg7DQogICAgICAgICAgICBjYW52YXMuaGVpZ2h0ID0gaGVpZ2h0Ow0KICAgICAgICAgICAgY3R4LmNsZWFyUmVjdCgwLCAwLCB3aWR0aCwgaGVpZ2h0KTsNCg0KCQkJY3R4LmZpbGxTdHlsZSA9ICdyZ2JhKDAsMCwwLDApJzsNCgkJCWN0eC5maWxsUmVjdCgwLCAwLCB3aWR0aCwgaGVpZ2h0KTsNCg0KCQkJY3R4LnRyYW5zbGF0ZSh3aWR0aCwgMCk7DQogICAgICAgICAgICBjdHgucm90YXRlKE1hdGguUEkgKiA5MCAvIDE4MCk7DQoNCiAgICAgICAgICAgIGN0eC5kcmF3SW1hZ2Uoc291cmNlSW1nLCAwLCAwLCBuYXR1cmFsV2lkdGgsIG5hdHVyYWxIZWlnaHQpOw0KICAgICAgICAgICAgbGV0IGltZ1VybCA9IGNhbnZhcy50b0RhdGFVUkwobWltZXNbJ3BuZyddKTsNCg0KCQkJdGhpcy5zb3VyY2VJbWdVcmwgPSBpbWdVcmw7DQoJCQl0aGlzLnN0YXJ0Q3JvcCgpOw0KICAgICAgICB9LA0KDQogICAgICAgIC8vIOaMiemSruaMieS4i+W8gOWni+aUvuWkpw0KICAgICAgICBzdGFydFpvb21BZGQoZSkgew0KICAgICAgICAgICAgbGV0IHRoYXQgPSB0aGlzLA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgc2NhbGUNCiAgICAgICAgICAgICAgICB9ID0gdGhhdDsNCiAgICAgICAgICAgIHNjYWxlLnpvb21BZGRPbiA9IHRydWU7DQoNCiAgICAgICAgICAgIGZ1bmN0aW9uIHpvb20oKSB7DQogICAgICAgICAgICAgICAgaWYgKHNjYWxlLnpvb21BZGRPbikgew0KICAgICAgICAgICAgICAgICAgICBsZXQgcmFuZ2UgPSBzY2FsZS5yYW5nZSA+PSAxMDAgPyAxMDAgOiArK3NjYWxlLnJhbmdlOw0KICAgICAgICAgICAgICAgICAgICB0aGF0Lnpvb21JbWcocmFuZ2UpOw0KICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgem9vbSgpOw0KICAgICAgICAgICAgICAgICAgICB9LCA2MCk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgem9vbSgpOw0KICAgICAgICB9LA0KICAgICAgICAvLyDmjInpkq7mnb7lvIDmiJbnp7vlvIDlj5bmtojmlL7lpKcNCiAgICAgICAgZW5kWm9vbUFkZChlKSB7DQogICAgICAgICAgICB0aGlzLnNjYWxlLnpvb21BZGRPbiA9IGZhbHNlOw0KICAgICAgICB9LA0KICAgICAgICAvLyDmjInpkq7mjInkuIvlvIDlp4vnvKnlsI8NCiAgICAgICAgc3RhcnRab29tU3ViKGUpIHsNCiAgICAgICAgICAgIGxldCB0aGF0ID0gdGhpcywNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgIHNjYWxlDQogICAgICAgICAgICAgICAgfSA9IHRoYXQ7DQogICAgICAgICAgICBzY2FsZS56b29tU3ViT24gPSB0cnVlOw0KDQogICAgICAgICAgICBmdW5jdGlvbiB6b29tKCkgew0KICAgICAgICAgICAgICAgIGlmIChzY2FsZS56b29tU3ViT24pIHsNCiAgICAgICAgICAgICAgICAgICAgbGV0IHJhbmdlID0gc2NhbGUucmFuZ2UgPD0gMCA/IDAgOiAtLXNjYWxlLnJhbmdlOw0KICAgICAgICAgICAgICAgICAgICB0aGF0Lnpvb21JbWcocmFuZ2UpOw0KICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgem9vbSgpOw0KICAgICAgICAgICAgICAgICAgICB9LCA2MCk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgem9vbSgpOw0KICAgICAgICB9LA0KICAgICAgICAvLyDmjInpkq7mnb7lvIDmiJbnp7vlvIDlj5bmtojnvKnlsI8NCiAgICAgICAgZW5kWm9vbVN1YihlKSB7DQogICAgICAgICAgICBsZXQgew0KICAgICAgICAgICAgICAgIHNjYWxlDQogICAgICAgICAgICB9ID0gdGhpczsNCiAgICAgICAgICAgIHNjYWxlLnpvb21TdWJPbiA9IGZhbHNlOw0KICAgICAgICB9LA0KICAgICAgICB6b29tQ2hhbmdlKGUpIHsNCiAgICAgICAgICAgIHRoaXMuem9vbUltZyhlLnRhcmdldC52YWx1ZSk7DQogICAgICAgIH0sDQogICAgICAgIC8vIOe8qeaUvuWOn+Wbvg0KICAgICAgICB6b29tSW1nKG5ld1JhbmdlKSB7DQogICAgICAgICAgICBsZXQgdGhhdCA9IHRoaXMsDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICBzb3VyY2VJbWdNYXNraW5nLA0KICAgICAgICAgICAgICAgICAgICBzb3VyY2VJbWdNb3VzZURvd24sDQogICAgICAgICAgICAgICAgICAgIHNjYWxlDQogICAgICAgICAgICAgICAgfSA9IHRoaXMsDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICBtYXhXaWR0aCwNCiAgICAgICAgICAgICAgICAgICAgbWF4SGVpZ2h0LA0KICAgICAgICAgICAgICAgICAgICBtaW5XaWR0aCwNCiAgICAgICAgICAgICAgICAgICAgbWluSGVpZ2h0LA0KICAgICAgICAgICAgICAgICAgICB3aWR0aCwNCiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0LA0KICAgICAgICAgICAgICAgICAgICB4LA0KICAgICAgICAgICAgICAgICAgICB5LA0KICAgICAgICAgICAgICAgICAgICByYW5nZQ0KICAgICAgICAgICAgICAgIH0gPSBzY2FsZSwNCiAgICAgICAgICAgICAgICBzaW0gPSBzb3VyY2VJbWdNYXNraW5nLA0KICAgICAgICAgICAgICAgIC8vIOiSmeeJiOWuvemrmA0KICAgICAgICAgICAgICAgIHNXaWR0aCA9IHNpbS53aWR0aCwNCiAgICAgICAgICAgICAgICBzSGVpZ2h0ID0gc2ltLmhlaWdodCwNCiAgICAgICAgICAgICAgICAvLyDmlrDlrr3pq5gNCiAgICAgICAgICAgICAgICBuV2lkdGggPSBtaW5XaWR0aCArIChtYXhXaWR0aCAtIG1pbldpZHRoKSAqIG5ld1JhbmdlIC8gMTAwLA0KICAgICAgICAgICAgICAgIG5IZWlnaHQgPSBtaW5IZWlnaHQgKyAobWF4SGVpZ2h0IC0gbWluSGVpZ2h0KSAqIG5ld1JhbmdlIC8gMTAwLA0KICAgICAgICAgICAgICAgIC8vIOaWsOWdkOagh++8iOagueaNruiSmeeJiOS4reW/g+eCuee8qeaUvu+8iQ0KICAgICAgICAgICAgICAgIG5YID0gc1dpZHRoIC8gMiAtIChuV2lkdGggLyB3aWR0aCkgKiAoc1dpZHRoIC8gMiAtIHgpLA0KICAgICAgICAgICAgICAgIG5ZID0gc0hlaWdodCAvIDIgLSAobkhlaWdodCAvIGhlaWdodCkgKiAoc0hlaWdodCAvIDIgLSB5KTsNCg0KICAgICAgICAgICAgLy8g5Yik5pat5paw5Z2Q5qCH5piv5ZCm6LaF6L+H6JKZ54mI6ZmQ5Yi2DQogICAgICAgICAgICBpZiAoblggPiAwKSB7DQogICAgICAgICAgICAgICAgblggPSAwOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaWYgKG5ZID4gMCkgew0KICAgICAgICAgICAgICAgIG5ZID0gMDsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmIChuWCA8IHNXaWR0aCAtIG5XaWR0aCkgew0KICAgICAgICAgICAgICAgIG5YID0gc1dpZHRoIC0gbldpZHRoOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaWYgKG5ZIDwgc0hlaWdodCAtIG5IZWlnaHQpIHsNCiAgICAgICAgICAgICAgICBuWSA9IHNIZWlnaHQgLSBuSGVpZ2h0Ow0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAvLyDotYvlgLzlpITnkIYNCiAgICAgICAgICAgIHNjYWxlLnggPSBuWDsNCiAgICAgICAgICAgIHNjYWxlLnkgPSBuWTsNCiAgICAgICAgICAgIHNjYWxlLndpZHRoID0gbldpZHRoOw0KICAgICAgICAgICAgc2NhbGUuaGVpZ2h0ID0gbkhlaWdodDsNCiAgICAgICAgICAgIHNjYWxlLnJhbmdlID0gbmV3UmFuZ2U7DQogICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgICAgIGlmIChzY2FsZS5yYW5nZSA9PSBuZXdSYW5nZSkgew0KICAgICAgICAgICAgICAgICAgICB0aGF0LmNyZWF0ZUltZygpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0sIDMwMCk7DQogICAgICAgIH0sDQogICAgICAgIC8vIOeUn+aIkOmcgOaxguWbvueJhw0KICAgICAgICBjcmVhdGVJbWcoZSkgew0KICAgICAgICAgICAgbGV0IHRoYXQgPSB0aGlzLA0KICAgICAgICAgICAgICAgIHsNCgkJCQkJaW1nRm9ybWF0LA0KCQkJCQlpbWdCZ2MsDQogICAgICAgICAgICAgICAgICAgIG1pbWUsDQogICAgICAgICAgICAgICAgICAgIHNvdXJjZUltZywNCiAgICAgICAgICAgICAgICAgICAgc2NhbGU6IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHgsDQogICAgICAgICAgICAgICAgICAgICAgICB5LA0KICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGgsDQogICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQsDQogICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgIHNvdXJjZUltZ01hc2tpbmc6IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHNjYWxlDQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9ID0gdGhhdCwNCiAgICAgICAgICAgICAgICBjYW52YXMgPSB0aGF0LiRlbHMuY2FudmFzLA0KICAgICAgICAgICAgICAgIGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpOw0KICAgICAgICAgICAgaWYgKGUpIHsNCiAgICAgICAgICAgICAgICAvLyDlj5bmtojpvKDmoIfmjInkuIvnp7vliqjnirbmgIENCiAgICAgICAgICAgICAgICB0aGF0LnNvdXJjZUltZ01vdXNlRG93bi5vbiA9IGZhbHNlOw0KCQkJfQ0KICAgICAgICAgICAgY2FudmFzLndpZHRoID0gdGhhdC53aWR0aDsNCiAgICAgICAgICAgIGNhbnZhcy5oZWlnaHQgPSB0aGF0LmhlaWdodDsNCiAgICAgICAgICAgIGN0eC5jbGVhclJlY3QoMCwgMCwgdGhhdC53aWR0aCwgdGhhdC5oZWlnaHQpOw0KDQoJCQlpZihpbWdGb3JtYXQgPT0gJ3BuZycpew0KCQkJCWN0eC5maWxsU3R5bGUgPSAncmdiYSgwLDAsMCwwKSc7DQoJCQl9IGVsc2V7DQoJCQkJLy8g5aaC5p6canBnIOS4uumAj+aYjuWMuuWfn+iuvue9ruiDjOaZr++8jOm7mOiupOeZveiJsg0KCQkJCWN0eC5maWxsU3R5bGUgPSBpbWdCZ2M7DQoJCQl9DQoJCQljdHguZmlsbFJlY3QoMCwgMCwgdGhhdC53aWR0aCwgdGhhdC5oZWlnaHQpOw0KDQogICAgICAgICAgICBjdHguZHJhd0ltYWdlKHNvdXJjZUltZywgeCAvIHNjYWxlLCB5IC8gc2NhbGUsIHdpZHRoIC8gc2NhbGUsIGhlaWdodCAvIHNjYWxlKTsNCiAgICAgICAgICAgIHRoYXQuY3JlYXRlSW1nVXJsID0gY2FudmFzLnRvRGF0YVVSTChtaW1lKTsNCiAgICAgICAgfSwNCiAgICAgICAgLy8g6aKE5aSH5LiK5LygDQogICAgICAgIHByZXBhcmVVcGxvYWQoKXsNCiAgICAgICAgICAgIGxldCB7DQogICAgICAgICAgICAgICAgdXJsLA0KICAgICAgICAgICAgICAgIGNyZWF0ZUltZ1VybCwNCiAgICAgICAgICAgICAgICBmaWVsZCwNCiAgICAgICAgICAgICAgICBraQ0KICAgICAgICAgICAgfSA9IHRoaXM7DQogICAgICAgICAgICB0aGlzLiRkaXNwYXRjaCgnY3JvcFN1Y2Nlc3MnLCBjcmVhdGVJbWdVcmwsIGZpZWxkLCBraSk7DQogICAgICAgICAgICBpZih0eXBlb2YgdXJsID09ICdzdHJpbmcnICYmIHVybCl7DQogICAgICAgICAgICAgICAgdGhpcy51cGxvYWQoKTsNCiAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICAgIHRoaXMub2ZmKCk7DQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIC8vIOS4iuS8oOWbvueJhw0KICAgICAgICB1cGxvYWQoKSB7DQogICAgICAgICAgICBsZXQgdGhhdCA9IHRoaXMsDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICBsYW5nLA0KICAgICAgICAgICAgICAgICAgICBpbWdGb3JtYXQsDQogICAgICAgICAgICAgICAgICAgIG1pbWUsDQogICAgICAgICAgICAgICAgICAgIHVybCwNCiAgICAgICAgICAgICAgICAgICAgcGFyYW1zLA0KICAgICAgICAgICAgICAgICAgICBmaWVsZCwNCiAgICAgICAgICAgICAgICAgICAga2ksDQogICAgICAgICAgICAgICAgICAgIGNyZWF0ZUltZ1VybCwNCiAgICAgICAgICAgICAgICAgICAgd2l0aENyZWRlbnRpYWxzLA0KICAgICAgICAgICAgICAgICAgICBtZXRob2QNCiAgICAgICAgICAgICAgICB9ID0gdGhpcywNCiAgICAgICAgICAgICAgICBmbURhdGEgPSBuZXcgRm9ybURhdGEoKTsNCiAgICAgICAgICAgIGZtRGF0YS5hcHBlbmQoZmllbGQsIGRhdGEyYmxvYihjcmVhdGVJbWdVcmwsIG1pbWUpLCBmaWVsZCArICcuJyArIGltZ0Zvcm1hdCk7DQoNCiAgICAgICAgICAgIC8vIOa3u+WKoOWFtuS7luWPguaVsA0KICAgICAgICAgICAgaWYgKHR5cGVvZiBwYXJhbXMgPT0gJ29iamVjdCcgJiYgcGFyYW1zKSB7DQogICAgICAgICAgICAgICAgT2JqZWN0LmtleXMocGFyYW1zKS5mb3JFYWNoKChrKSA9PiB7DQogICAgICAgICAgICAgICAgICAgIGZtRGF0YS5hcHBlbmQoaywgcGFyYW1zW2tdKTsNCiAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAvLyDnm5HlkKzov5vluqblm57osIMNCiAgICAgICAgICAgIGNvbnN0IHVwbG9hZFByb2dyZXNzID0gZnVuY3Rpb24oZXZlbnQpIHsNCiAgICAgICAgICAgICAgICBpZiAoZXZlbnQubGVuZ3RoQ29tcHV0YWJsZSkgew0KICAgICAgICAgICAgICAgICAgICB0aGF0LnByb2dyZXNzID0gMTAwICogTWF0aC5yb3VuZChldmVudC5sb2FkZWQpIC8gZXZlbnQudG90YWw7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfTsNCg0KICAgICAgICAgICAgLy8g5LiK5Lyg5paH5Lu2DQogICAgICAgICAgICB0aGF0LnJlc2V0KCk7DQogICAgICAgICAgICB0aGF0LmxvYWRpbmcgPSAxOw0KICAgICAgICAgICAgdGhhdC5zZXRTdGVwKDMpOw0KICAgICAgICAgICAgbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7DQogICAgICAgICAgICAgICAgbGV0IGNsaWVudCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpOw0KICAgICAgICAgICAgICAgIGNsaWVudC5vcGVuKG1ldGhvZCwgdXJsLCB0cnVlKTsNCiAgICAgICAgICAgICAgICBjbGllbnQud2l0aENyZWRlbnRpYWxzID0gd2l0aENyZWRlbnRpYWxzOw0KICAgICAgICAgICAgICAgIGNsaWVudC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbigpIHsNCiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucmVhZHlTdGF0ZSAhPT0gNCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnN0YXR1cyA9PT0gMjAwIHx8IHRoaXMuc3RhdHVzID09PSAyMDEpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoSlNPTi5wYXJzZSh0aGlzLnJlc3BvbnNlVGV4dCkpOw0KICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KHRoaXMuc3RhdHVzKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH07DQogICAgICAgICAgICAgICAgY2xpZW50LnVwbG9hZC5hZGRFdmVudExpc3RlbmVyKCJwcm9ncmVzcyIsIHVwbG9hZFByb2dyZXNzLCBmYWxzZSk7IC8v55uR5ZCs6L+b5bqmXA0KCQkJCS8vIOiuvue9rmhlYWRlcg0KCSAgICAgICAgICAgIGlmICh0eXBlb2YgaGVhZGVycyA9PSAnb2JqZWN0JyAmJiBoZWFkZXJzKSB7DQoJICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKGhlYWRlcnMpLmZvckVhY2goKGspID0+IHsNCgkgICAgICAgICAgICAgICAgICAgIGNsaWVudC5zZXRSZXF1ZXN0SGVhZGVyKGssIGhlYWRlcnNba10pOw0KCSAgICAgICAgICAgICAgICB9KQ0KCSAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBjbGllbnQuc2VuZChmbURhdGEpOw0KICAgICAgICAgICAgfSkudGhlbigNCiAgICAgICAgICAgICAgICAvLyDkuIrkvKDmiJDlip8NCiAgICAgICAgICAgICAgICBmdW5jdGlvbihyZXNEYXRhKSB7DQogICAgICAgICAgICAgICAgICAgIGlmICh0aGF0LnZhbHVlKSB7DQogICAgICAgICAgICAgICAgICAgICAgICB0aGF0LmxvYWRpbmcgPSAyOw0KICAgICAgICAgICAgICAgICAgICAgICAgdGhhdC4kZGlzcGF0Y2goJ2Nyb3BVcGxvYWRTdWNjZXNzJywgcmVzRGF0YSwgZmllbGQsIGtpKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAvLyDkuIrkvKDlpLHotKUNCiAgICAgICAgICAgICAgICBmdW5jdGlvbihzdHMpIHsNCiAgICAgICAgICAgICAgICAgICAgaWYgKHRoYXQudmFsdWUpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQubG9hZGluZyA9IDM7DQogICAgICAgICAgICAgICAgICAgICAgICB0aGF0Lmhhc0Vycm9yID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQuZXJyb3JNc2cgPSBsYW5nLmZhaWw7DQogICAgICAgICAgICAgICAgICAgICAgICB0aGF0LiRkaXNwYXRjaCgnY3JvcFVwbG9hZEZhaWwnLCBzdHMsIGZpZWxkLCBraSk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICApOw0KICAgICAgICB9DQogICAgfSwNCiAgICBjcmVhdGVkKCl7DQogICAgICAgIC8vIOe7keWumuaMiemUrmVzY+makOiXj+atpOaPkuS7tuS6i+S7tg0KICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIChlKT0+ew0KICAgICAgICAgICAgaWYodGhpcy52YWx1ZSAmJiAoZS5rZXkgPT0gJ0VzY2FwZScgfHwgZS5rZXlDb2RlID09IDI3KSl7DQogICAgICAgICAgICAgICAgdGhpcy5vZmYoKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSkNCiAgICB9DQp9DQoNCg=="},{"version":3,"sources":["upload-1.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgHA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"upload-1.vue","sourceRoot":"node_modules/vue-image-crop-upload","sourcesContent":["<template>\r\n<div class=\"vue-image-crop-upload\" v-show=\"value\">\r\n    <div class=\"vicp-wrap\">\r\n        <div class=\"vicp-close\" @click=\"off\">\r\n            <i class=\"vicp-icon4\"></i>\r\n        </div>\r\n\r\n        <div class=\"vicp-step1\" v-show=\"step == 1\">\r\n            <div class=\"vicp-drop-area\"\r\n\t\t\t\t@dragleave=\"preventDefault\"\r\n\t\t\t\t@dragover=\"preventDefault\"\r\n\t\t\t\t@dragenter=\"preventDefault\"\r\n\t\t\t\t@click=\"handleClick\"\r\n\t\t\t\t@drop=\"handleChange\">\r\n                <i class=\"vicp-icon1\" v-show=\"loading != 1\">\r\n\t\t\t\t\t<i class=\"vicp-icon1-arrow\"></i>\r\n\t                <i class=\"vicp-icon1-body\"></i>\r\n\t                <i class=\"vicp-icon1-bottom\"></i>\r\n                </i>\r\n                <span class=\"vicp-hint\" v-show=\"loading !== 1\">{{ lang.hint }}</span>\r\n                <span class=\"vicp-no-supported-hint\" v-show=\"!isSupported\">{{ lang.noSupported }}</span>\r\n                <input type=\"file\" v-show=\"false\" v-if=\"step == 1\" @change=\"handleChange\" v-el:fileinput>\r\n            </div>\r\n            <div class=\"vicp-error\" v-show=\"hasError\">\r\n                <i class=\"vicp-icon2\"></i> {{ errorMsg }}\r\n            </div>\r\n            <div class=\"vicp-operate\">\r\n                <a @click=\"off\" @mousedown=\"ripple\">{{ lang.btn.off }}</a>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"vicp-step2\" v-if=\"step == 2\">\r\n            <div class=\"vicp-crop\">\r\n                <div class=\"vicp-crop-left\">\r\n                    <div class=\"vicp-img-container\">\r\n                        <img :src=\"sourceImgUrl\"\r\n\t\t\t\t\t\t\t:style=\"sourceImgStyle\"\r\n\t\t\t\t\t\t\tclass=\"vicp-img\"\r\n\t\t\t\t\t\t\tdraggable=\"false\"\r\n                            @drag=\"preventDefault\"\r\n                            @dragstart=\"preventDefault\"\r\n                            @dragend=\"preventDefault\"\r\n                            @dragleave=\"preventDefault\"\r\n                            @dragover=\"preventDefault\"\r\n                            @dragenter=\"preventDefault\"\r\n                            @drop=\"preventDefault\"\r\n                            @touchstart=\"imgStartMove\"\r\n                            @touchmove=\"imgMove\"\r\n                            @touchend=\"createImg\"\r\n                            @touchcancel=\"createImg\"\r\n                            @mousedown=\"imgStartMove\"\r\n\t\t\t\t\t\t\t@mousemove=\"imgMove\"\r\n\t\t\t\t\t\t\t@mouseup=\"createImg\"\r\n\t\t\t\t\t\t\t@mouseout=\"createImg\"\r\n\t\t\t\t\t\t\tv-el:img>\r\n                        <div class=\"vicp-img-shade vicp-img-shade-1\" :style=\"sourceImgShadeStyle\"></div>\r\n                        <div class=\"vicp-img-shade vicp-img-shade-2\" :style=\"sourceImgShadeStyle\"></div>\r\n                    </div>\r\n\r\n                    <div class=\"vicp-range\">\r\n                        <input type=\"range\" :value=\"scale.range\" step=\"1\" min=\"0\" max=\"100\" @input=\"zoomChange\">\r\n                        <i @mousedown=\"startZoomSub\" @mouseout=\"endZoomSub\" @mouseup=\"endZoomSub\" class=\"vicp-icon5\"></i>\r\n                        <i @mousedown=\"startZoomAdd\" @mouseout=\"endZoomAdd\" @mouseup=\"endZoomAdd\" class=\"vicp-icon6\"></i>\r\n                    </div>\r\n\r\n\t\t\t\t\t<div class=\"vicp-rotate\" v-if=\"!noRotate\">\r\n\t\t\t\t\t\t<i @click=\"rotateImg\">↺</i>\r\n\t\t\t\t\t</div>\r\n                </div>\r\n                <div class=\"vicp-crop-right\">\r\n                    <div class=\"vicp-preview\">\r\n\t\t\t\t\t\t<div class=\"vicp-preview-item\" v-if=\"!noSquare\">\r\n\t\t\t\t\t\t\t<img :src=\"createImgUrl\" :style=\"previewStyle\">\r\n\t\t\t\t\t\t\t<span>{{ lang.preview }}</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"vicp-preview-item vicp-preview-item-circle\" v-if=\"!noCircle\">\r\n\t\t\t\t\t\t\t<img :src=\"createImgUrl\" :style=\"previewStyle\">\r\n\t\t\t\t\t\t\t<span>{{ lang.preview }}</span>\r\n\t\t\t\t\t\t</div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"vicp-operate\">\r\n                <a @click=\"setStep(1)\" @mousedown=\"ripple\">{{ lang.btn.back }}</a>\r\n                <a class=\"vicp-operate-btn\" @click=\"prepareUpload\" @mousedown=\"ripple\">{{ lang.btn.save }}</a>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"vicp-step3\" v-if=\"step == 3\">\r\n            <div class=\"vicp-upload\">\r\n                <span class=\"vicp-loading\" v-show=\"loading === 1\">{{ lang.loading }}</span>\r\n                <div class=\"vicp-progress-wrap\">\r\n                    <span class=\"vicp-progress\" v-show=\"loading === 1\" :style=\"progressStyle\"></span>\r\n                </div>\r\n                <div class=\"vicp-error\" v-show=\"hasError\">\r\n                    <i class=\"vicp-icon2\"></i> {{ errorMsg }}\r\n                </div>\r\n                <div class=\"vicp-success\" v-show=\"loading === 2\">\r\n                    <i class=\"vicp-icon3\"></i> {{ lang.success }}\r\n                </div>\r\n            </div>\r\n            <div class=\"vicp-operate\">\r\n                <a @click=\"setStep(2)\" @mousedown=\"ripple\">{{ lang.btn.back }}</a>\r\n                <a @click=\"off\" @mousedown=\"ripple\">{{ lang.btn.close }}</a>\r\n            </div>\r\n        </div>\r\n        <canvas v-show=\"false\" :width=\"width\" :height=\"height\" v-el:canvas></canvas>\r\n    </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\n'use strict';\r\nimport language from './utils/language.js';\r\nimport mimes from './utils/mimes.js';\r\nimport data2blob from './utils/data2blob.js';\r\nimport effectRipple from './utils/effectRipple.js';\r\n\r\nexport default {\r\n    props: {\r\n        // 域，上传文件name，触发事件会带上（如果一个页面多个图片上传控件，可以做区分\r\n        field: {\r\n            type: String,\r\n            'default': 'avatar'\r\n        },\r\n        // 类似于id，触发事件会带上（如果一个页面多个图片上传控件，可以做区分\r\n        ki: {\r\n            'default': 0\r\n        },\r\n        // 显示该控件与否\r\n        value: {\r\n            twoWay: true,\r\n            'default': true\r\n        },\r\n        // 上传地址\r\n        url: {\r\n            type: String,\r\n            'default': ''\r\n        },\r\n        // 其他要上传文件附带的数据，对象格式\r\n        params: {\r\n            type: Object,\r\n            'default': null\r\n        },\r\n\t\t//Add custom headers\r\n        headers: {\r\n            type: Object,\r\n            'default': null\r\n        },\r\n        // 剪裁图片的宽\r\n        width: {\r\n            type: Number,\r\n            default: 200\r\n        },\r\n        // 剪裁图片的高\r\n        height: {\r\n            type: Number,\r\n            default: 200\r\n        },\r\n\t\t// 不显示旋转功能\r\n\t\tnoRotate: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: true\r\n\t\t},\r\n\t\t// 不预览圆形图片\r\n\t\tnoCircle: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: false\r\n\t\t},\r\n\t\t// 不预览方形图片\r\n\t\tnoSquare: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: false\r\n\t\t},\r\n        // 单文件大小限制\r\n        maxSize: {\r\n            type: Number,\r\n            'default': 10240\r\n        },\r\n        // 语言类型\r\n        langType: {\r\n            type: String,\r\n            'default': 'zh'\r\n        },\r\n        // 语言包\r\n        langExt: {\r\n            type: Object,\r\n            'default': null\r\n        },\r\n        // 图片上传格式\r\n        imgFormat: {\r\n            type: String,\r\n            'default': 'png'\r\n        },\r\n\t\t// 图片背景 jpg情况下生效\r\n\t\timgBgc: {\r\n\t\t\ttype: String,\r\n\t\t\t'default': '#fff'\r\n\t\t},\r\n        // 是否支持跨域\r\n\t\twithCredentials: {\r\n\t\t\ttype: Boolean,\r\n\t\t\t'default': false\r\n        },\r\n        method: {\r\n\t\t\ttype: String,\r\n\t\t\t'default': 'POST'\r\n\t\t},\r\n    },\r\n    data() {\r\n        let that = this,\r\n            {\r\n                imgFormat,\r\n                langType,\r\n                langExt,\r\n                width,\r\n                height\r\n            } = that,\r\n            isSupported = true,\r\n            allowImgFormat = [\r\n                'jpg',\r\n                'png'\r\n            ],\r\n            tempImgFormat = allowImgFormat.indexOf(imgFormat) === -1 ? 'jpg' : imgFormat,\r\n            lang = language[langType] ? language[langType] : language['en'],\r\n            mime = mimes[tempImgFormat];\r\n        // 规范图片格式\r\n        that.imgFormat = tempImgFormat;\r\n\r\n        if (langExt) {\r\n            Object.assign(lang, langExt);\r\n        }\r\n        if (typeof FormData != 'function') {\r\n            isSupported = false;\r\n        }\r\n        return {\r\n            // 图片的mime\r\n            mime,\r\n\r\n            // 语言包\r\n            lang,\r\n\r\n            // 浏览器是否支持该控件\r\n            isSupported,\r\n            // 浏览器是否支持触屏事件\r\n            isSupportTouch: document.hasOwnProperty(\"ontouchstart\"),\r\n\r\n            // 步骤\r\n            step: 1, //1选择文件 2剪裁 3上传\r\n\r\n            // 上传状态及进度\r\n            loading: 0, //0未开始 1正在 2成功 3错误\r\n            progress: 0,\r\n\r\n            // 是否有错误及错误信息\r\n            hasError: false,\r\n            errorMsg: '',\r\n\r\n            // 需求图宽高比\r\n            ratio: width / height,\r\n\r\n            // 原图地址、生成图片地址\r\n            sourceImg: null,\r\n            sourceImgUrl: '',\r\n            createImgUrl: '',\r\n\r\n            // 原图片拖动事件初始值\r\n            sourceImgMouseDown: {\r\n                on: false,\r\n                mX: 0, //鼠标按下的坐标\r\n                mY: 0,\r\n                x: 0, //scale原图坐标\r\n                y: 0\r\n            },\r\n\r\n            // 生成图片预览的容器大小\r\n            previewContainer: {\r\n                width: 100,\r\n                height: 100\r\n            },\r\n\r\n            // 原图容器宽高\r\n            sourceImgContainer: { // sic\r\n                width: 240,\r\n                height: 184 // 如果生成图比例与此一致会出现bug，先改成特殊的格式吧，哈哈哈\r\n            },\r\n\r\n            // 原图展示属性\r\n            scale: {\r\n                zoomAddOn: false, //按钮缩放事件开启\r\n                zoomSubOn: false, //按钮缩放事件开启\r\n                range: 1, //最大100\r\n\r\n                x: 0,\r\n                y: 0,\r\n                width: 0,\r\n                height: 0,\r\n                maxWidth: 0,\r\n                maxHeight: 0,\r\n                minWidth: 0, //最宽\r\n                minHeight: 0,\r\n                naturalWidth: 0, //原宽\r\n                naturalHeight: 0\r\n            }\r\n        }\r\n    },\r\n    computed: {\r\n        // 进度条样式\r\n        progressStyle() {\r\n            let {\r\n                progress\r\n            } = this;\r\n            return {\r\n                width: progress + '%'\r\n            }\r\n        },\r\n        // 原图样式\r\n        sourceImgStyle() {\r\n            let {\r\n                scale,\r\n                sourceImgMasking\r\n            } = this;\r\n            return {\r\n                top: scale.y + sourceImgMasking.y + 'px',\r\n                left: scale.x + sourceImgMasking.x + 'px',\r\n                width: scale.width + 'px',\r\n                height: scale.height + 'px'\r\n            }\r\n        },\r\n        // 原图蒙版属性\r\n        sourceImgMasking() {\r\n            let {\r\n\t                width,\r\n\t                height,\r\n\t                ratio,\r\n\t                sourceImgContainer\r\n\t            } = this,\r\n\t            sic = sourceImgContainer,\r\n                sicRatio = sic.width / sic.height, // 原图容器宽高比\r\n                x = 0,\r\n                y = 0,\r\n                w = sic.width,\r\n                h = sic.height,\r\n                scale = 1;\r\n            if (ratio < sicRatio) {\r\n                scale = sic.height / height;\r\n                w = sic.height * ratio;\r\n                x = (sic.width - w) / 2;\r\n            }\r\n            if (ratio > sicRatio) {\r\n                scale = sic.width / width;\r\n                h = sic.width / ratio;\r\n                y = (sic.height - h) / 2;\r\n            }\r\n            return {\r\n                scale, // 蒙版相对需求宽高的缩放\r\n                x,\r\n                y,\r\n                width: w,\r\n                height: h\r\n            };\r\n        },\r\n        // 原图遮罩样式\r\n        sourceImgShadeStyle() {\r\n            let {\r\n\t                sourceImgMasking,\r\n\t                sourceImgContainer\r\n\t            } = this,\r\n\t            sic = sourceImgContainer,\r\n                sim = sourceImgMasking,\r\n                w = sim.width == sic.width ? sim.width : (sic.width - sim.width) / 2,\r\n                h = sim.height == sic.height ? sim.height : (sic.height - sim.height) / 2;\r\n            return {\r\n                width: w + 'px',\r\n                height: h + 'px'\r\n            };\r\n        },\r\n        previewStyle() {\r\n            let {\r\n\t                width,\r\n\t                height,\r\n\t                ratio,\r\n\t                previewContainer\r\n\t            } = this,\r\n\t            pc = previewContainer,\r\n                w = pc.width,\r\n                h = pc.height,\r\n                pcRatio = w / h;\r\n            if (ratio < pcRatio) {\r\n                w = pc.height * ratio;\r\n            }\r\n            if (ratio > pcRatio) {\r\n                h = pc.width / ratio;\r\n            }\r\n            return {\r\n                width: w + 'px',\r\n                height: h + 'px'\r\n            };\r\n        }\r\n    },\r\n    watch: {\r\n        value(newValue) {\r\n            if (newValue && this.loading != 1) {\r\n                this.reset();\r\n            }\r\n        }\r\n    },\r\n    methods: {\r\n        // 点击波纹效果\r\n        ripple(e) {\r\n            effectRipple(e);\r\n        },\r\n        // 关闭控件\r\n        off() {\r\n            setTimeout(() => {\r\n                this.value = false;\r\n                if(this.step == 3 && this.loading == 2){\r\n                    this.setStep(1);\r\n                }\r\n            }, 200);\r\n        },\r\n\t\t// 设置步骤\r\n\t\tsetStep(no) {\r\n\t\t\t// 延时是为了显示动画效果呢，哈哈哈\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tthis.step = no;\r\n\t\t\t}, 200);\r\n\t\t},\r\n        /* 图片选择区域函数绑定\r\n         ---------------------------------------------------------------*/\r\n        preventDefault(e) {\r\n            e.preventDefault();\r\n\t\t\treturn false;\r\n        },\r\n        handleClick(e) {\r\n            if (this.loading !== 1) {\r\n                if (e.target !== this.$els.fileinput) {\r\n                    e.preventDefault();\r\n                    if (document.activeElement !== this.$els) {\r\n                        this.$els.fileinput.click();\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        handleChange(e) {\r\n            e.preventDefault();\r\n            if (this.loading !== 1) {\r\n                let files = e.target.files || e.dataTransfer.files;\r\n                this.reset();\r\n                if (this.checkFile(files[0])) {\r\n                    this.setSourceImg(files[0]);\r\n                }\r\n            }\r\n        },\r\n        /* ---------------------------------------------------------------*/\r\n\r\n        // 检测选择的文件是否合适\r\n        checkFile(file) {\r\n            let that = this,\r\n                {\r\n                    lang,\r\n                    maxSize\r\n                } = that;\r\n            // 仅限图片\r\n            if (file.type.indexOf('image') === -1) {\r\n                that.hasError = true;\r\n                that.errorMsg = lang.error.onlyImg;\r\n                return false;\r\n            }\r\n\r\n            // 超出大小\r\n            if (file.size / 1024 > maxSize) {\r\n                that.hasError = true;\r\n                that.errorMsg = lang.error.outOfSize + maxSize + 'kb';\r\n                return false;\r\n            }\r\n            return true;\r\n        },\r\n        // 重置控件\r\n        reset() {\r\n            this.loading = 0;\r\n            this.progress = 0;\r\n            this.hasError = false;\r\n            this.errorMsg = '';\r\n        },\r\n        // 设置图片源\r\n        setSourceImg(file) {\r\n            this.$dispatch('srcFileSet', file.name, file.type, file.size);\r\n\t\t\tlet that = this,\r\n                fr = new FileReader();\r\n            fr.onload = function(e) {\r\n                that.sourceImgUrl = fr.result;\r\n                that.startCrop();\r\n            }\r\n            fr.readAsDataURL(file);\r\n        },\r\n        // 剪裁前准备工作\r\n        startCrop() {\r\n            let that = this,\r\n                {\r\n                    width,\r\n                    height,\r\n                    ratio,\r\n                    scale,\r\n                    sourceImgUrl,\r\n                    sourceImgMasking,\r\n                    lang\r\n                } = that,\r\n                sim = sourceImgMasking,\r\n                img = new Image();\r\n            img.src = sourceImgUrl;\r\n            img.onload = function() {\r\n                let nWidth = img.naturalWidth,\r\n                    nHeight = img.naturalHeight,\r\n                    nRatio = nWidth / nHeight,\r\n                    w = sim.width,\r\n                    h = sim.height,\r\n                    x = 0,\r\n                    y = 0;\r\n                // 图片像素不达标\r\n                if (nWidth < width || nHeight < height) {\r\n                    that.hasError = true;\r\n                    that.errorMsg = lang.error.lowestPx + width + '*' + height;\r\n                    return false;\r\n                }\r\n                if (ratio > nRatio) {\r\n                    h = w / nRatio;\r\n                    y = (sim.height - h) / 2;\r\n                }\r\n                if (ratio < nRatio) {\r\n                    w = h * nRatio;\r\n                    x = (sim.width - w) / 2;\r\n                }\r\n                scale.range = 0;\r\n                scale.x = x;\r\n                scale.y = y;\r\n                scale.width = w;\r\n                scale.height = h;\r\n                scale.minWidth = w;\r\n                scale.minHeight = h;\r\n                scale.maxWidth = nWidth * sim.scale;\r\n                scale.maxHeight = nHeight * sim.scale;\r\n                scale.naturalWidth = nWidth;\r\n                scale.naturalHeight = nHeight;\r\n                that.sourceImg = img;\r\n                that.createImg();\r\n                that.setStep(2);\r\n            };\r\n        },\r\n        // 鼠标按下图片准备移动\r\n        imgStartMove(e) {\r\n            e.preventDefault();\r\n            // 支持触摸事件，则鼠标事件无效\r\n            if(this.isSupportTouch && !e.targetTouches){\r\n                return false;\r\n            }\r\n            let et = e.targetTouches ? e.targetTouches[0] : e,\r\n                {\r\n                    sourceImgMouseDown,\r\n                    scale\r\n                } = this,\r\n                simd = sourceImgMouseDown;\r\n            simd.mX = et.screenX;\r\n            simd.mY = et.screenY;\r\n            simd.x = scale.x;\r\n            simd.y = scale.y;\r\n            simd.on = true;\r\n        },\r\n        // 鼠标按下状态下移动，图片移动\r\n        imgMove(e) {\r\n            e.preventDefault();\r\n            // 支持触摸事件，则鼠标事件无效\r\n            if(this.isSupportTouch && !e.targetTouches){\r\n                return false;\r\n            }\r\n            let et = e.targetTouches ? e.targetTouches[0] : e,\r\n                {\r\n                    sourceImgMouseDown: {\r\n                        on,\r\n                        mX,\r\n                        mY,\r\n                        x,\r\n                        y\r\n                    },\r\n                    scale,\r\n                    sourceImgMasking\r\n                } = this,\r\n                sim = sourceImgMasking,\r\n                nX = et.screenX,\r\n                nY = et.screenY,\r\n                dX = nX - mX,\r\n                dY = nY - mY,\r\n                rX = x + dX,\r\n                rY = y + dY;\r\n            if (!on) return;\r\n            if (rX > 0) {\r\n                rX = 0;\r\n            }\r\n            if (rY > 0) {\r\n                rY = 0;\r\n            }\r\n            if (rX < sim.width - scale.width) {\r\n                rX = sim.width - scale.width;\r\n            }\r\n            if (rY < sim.height - scale.height) {\r\n                rY = sim.height - scale.height;\r\n            }\r\n            scale.x = rX;\r\n            scale.y = rY;\r\n        },\r\n\t\t// 顺时针旋转图片\r\n        rotateImg(e) {\r\n\t\t\tlet {\r\n\t\t\t\t\tsourceImg,\r\n                    scale: {\r\n\t\t\t\t\t\tnaturalWidth,\r\n\t\t\t\t\t\tnaturalHeight,\r\n                    }\r\n                } = this,\r\n\t\t\t\twidth = naturalHeight,\r\n\t\t\t\theight = naturalWidth,\r\n                canvas = this.$els.canvas,\r\n                ctx = canvas.getContext('2d');\r\n\t\t\tcanvas.width = width;\r\n            canvas.height = height;\r\n            ctx.clearRect(0, 0, width, height);\r\n\r\n\t\t\tctx.fillStyle = 'rgba(0,0,0,0)';\r\n\t\t\tctx.fillRect(0, 0, width, height);\r\n\r\n\t\t\tctx.translate(width, 0);\r\n            ctx.rotate(Math.PI * 90 / 180);\r\n\r\n            ctx.drawImage(sourceImg, 0, 0, naturalWidth, naturalHeight);\r\n            let imgUrl = canvas.toDataURL(mimes['png']);\r\n\r\n\t\t\tthis.sourceImgUrl = imgUrl;\r\n\t\t\tthis.startCrop();\r\n        },\r\n\r\n        // 按钮按下开始放大\r\n        startZoomAdd(e) {\r\n            let that = this,\r\n                {\r\n                    scale\r\n                } = that;\r\n            scale.zoomAddOn = true;\r\n\r\n            function zoom() {\r\n                if (scale.zoomAddOn) {\r\n                    let range = scale.range >= 100 ? 100 : ++scale.range;\r\n                    that.zoomImg(range);\r\n                    setTimeout(function() {\r\n                        zoom();\r\n                    }, 60);\r\n                }\r\n            }\r\n            zoom();\r\n        },\r\n        // 按钮松开或移开取消放大\r\n        endZoomAdd(e) {\r\n            this.scale.zoomAddOn = false;\r\n        },\r\n        // 按钮按下开始缩小\r\n        startZoomSub(e) {\r\n            let that = this,\r\n                {\r\n                    scale\r\n                } = that;\r\n            scale.zoomSubOn = true;\r\n\r\n            function zoom() {\r\n                if (scale.zoomSubOn) {\r\n                    let range = scale.range <= 0 ? 0 : --scale.range;\r\n                    that.zoomImg(range);\r\n                    setTimeout(function() {\r\n                        zoom();\r\n                    }, 60);\r\n                }\r\n            }\r\n            zoom();\r\n        },\r\n        // 按钮松开或移开取消缩小\r\n        endZoomSub(e) {\r\n            let {\r\n                scale\r\n            } = this;\r\n            scale.zoomSubOn = false;\r\n        },\r\n        zoomChange(e) {\r\n            this.zoomImg(e.target.value);\r\n        },\r\n        // 缩放原图\r\n        zoomImg(newRange) {\r\n            let that = this,\r\n                {\r\n                    sourceImgMasking,\r\n                    sourceImgMouseDown,\r\n                    scale\r\n                } = this,\r\n                {\r\n                    maxWidth,\r\n                    maxHeight,\r\n                    minWidth,\r\n                    minHeight,\r\n                    width,\r\n                    height,\r\n                    x,\r\n                    y,\r\n                    range\r\n                } = scale,\r\n                sim = sourceImgMasking,\r\n                // 蒙版宽高\r\n                sWidth = sim.width,\r\n                sHeight = sim.height,\r\n                // 新宽高\r\n                nWidth = minWidth + (maxWidth - minWidth) * newRange / 100,\r\n                nHeight = minHeight + (maxHeight - minHeight) * newRange / 100,\r\n                // 新坐标（根据蒙版中心点缩放）\r\n                nX = sWidth / 2 - (nWidth / width) * (sWidth / 2 - x),\r\n                nY = sHeight / 2 - (nHeight / height) * (sHeight / 2 - y);\r\n\r\n            // 判断新坐标是否超过蒙版限制\r\n            if (nX > 0) {\r\n                nX = 0;\r\n            }\r\n            if (nY > 0) {\r\n                nY = 0;\r\n            }\r\n            if (nX < sWidth - nWidth) {\r\n                nX = sWidth - nWidth;\r\n            }\r\n            if (nY < sHeight - nHeight) {\r\n                nY = sHeight - nHeight;\r\n            }\r\n\r\n            // 赋值处理\r\n            scale.x = nX;\r\n            scale.y = nY;\r\n            scale.width = nWidth;\r\n            scale.height = nHeight;\r\n            scale.range = newRange;\r\n            setTimeout(function() {\r\n                if (scale.range == newRange) {\r\n                    that.createImg();\r\n                }\r\n            }, 300);\r\n        },\r\n        // 生成需求图片\r\n        createImg(e) {\r\n            let that = this,\r\n                {\r\n\t\t\t\t\timgFormat,\r\n\t\t\t\t\timgBgc,\r\n                    mime,\r\n                    sourceImg,\r\n                    scale: {\r\n                        x,\r\n                        y,\r\n                        width,\r\n                        height,\r\n                    },\r\n                    sourceImgMasking: {\r\n                        scale\r\n                    }\r\n                } = that,\r\n                canvas = that.$els.canvas,\r\n                ctx = canvas.getContext('2d');\r\n            if (e) {\r\n                // 取消鼠标按下移动状态\r\n                that.sourceImgMouseDown.on = false;\r\n\t\t\t}\r\n            canvas.width = that.width;\r\n            canvas.height = that.height;\r\n            ctx.clearRect(0, 0, that.width, that.height);\r\n\r\n\t\t\tif(imgFormat == 'png'){\r\n\t\t\t\tctx.fillStyle = 'rgba(0,0,0,0)';\r\n\t\t\t} else{\r\n\t\t\t\t// 如果jpg 为透明区域设置背景，默认白色\r\n\t\t\t\tctx.fillStyle = imgBgc;\r\n\t\t\t}\r\n\t\t\tctx.fillRect(0, 0, that.width, that.height);\r\n\r\n            ctx.drawImage(sourceImg, x / scale, y / scale, width / scale, height / scale);\r\n            that.createImgUrl = canvas.toDataURL(mime);\r\n        },\r\n        // 预备上传\r\n        prepareUpload(){\r\n            let {\r\n                url,\r\n                createImgUrl,\r\n                field,\r\n                ki\r\n            } = this;\r\n            this.$dispatch('cropSuccess', createImgUrl, field, ki);\r\n            if(typeof url == 'string' && url){\r\n                this.upload();\r\n            }else{\r\n                this.off();\r\n            }\r\n        },\r\n        // 上传图片\r\n        upload() {\r\n            let that = this,\r\n                {\r\n                    lang,\r\n                    imgFormat,\r\n                    mime,\r\n                    url,\r\n                    params,\r\n                    field,\r\n                    ki,\r\n                    createImgUrl,\r\n                    withCredentials,\r\n                    method\r\n                } = this,\r\n                fmData = new FormData();\r\n            fmData.append(field, data2blob(createImgUrl, mime), field + '.' + imgFormat);\r\n\r\n            // 添加其他参数\r\n            if (typeof params == 'object' && params) {\r\n                Object.keys(params).forEach((k) => {\r\n                    fmData.append(k, params[k]);\r\n                })\r\n            }\r\n\r\n            // 监听进度回调\r\n            const uploadProgress = function(event) {\r\n                if (event.lengthComputable) {\r\n                    that.progress = 100 * Math.round(event.loaded) / event.total;\r\n                }\r\n            };\r\n\r\n            // 上传文件\r\n            that.reset();\r\n            that.loading = 1;\r\n            that.setStep(3);\r\n            new Promise(function(resolve, reject) {\r\n                let client = new XMLHttpRequest();\r\n                client.open(method, url, true);\r\n                client.withCredentials = withCredentials;\r\n                client.onreadystatechange = function() {\r\n                    if (this.readyState !== 4) {\r\n                        return;\r\n                    }\r\n                    if (this.status === 200 || this.status === 201) {\r\n                        resolve(JSON.parse(this.responseText));\r\n                    } else {\r\n                        reject(this.status);\r\n                    }\r\n                };\r\n                client.upload.addEventListener(\"progress\", uploadProgress, false); //监听进度\\\r\n\t\t\t\t// 设置header\r\n\t            if (typeof headers == 'object' && headers) {\r\n\t                Object.keys(headers).forEach((k) => {\r\n\t                    client.setRequestHeader(k, headers[k]);\r\n\t                })\r\n\t            }\r\n                client.send(fmData);\r\n            }).then(\r\n                // 上传成功\r\n                function(resData) {\r\n                    if (that.value) {\r\n                        that.loading = 2;\r\n                        that.$dispatch('cropUploadSuccess', resData, field, ki);\r\n                    }\r\n\r\n                },\r\n                // 上传失败\r\n                function(sts) {\r\n                    if (that.value) {\r\n                        that.loading = 3;\r\n                        that.hasError = true;\r\n                        that.errorMsg = lang.fail;\r\n                        that.$dispatch('cropUploadFail', sts, field, ki);\r\n                    }\r\n                }\r\n            );\r\n        }\r\n    },\r\n    created(){\r\n        // 绑定按键esc隐藏此插件事件\r\n        document.addEventListener('keyup', (e)=>{\r\n            if(this.value && (e.key == 'Escape' || e.keyCode == 27)){\r\n                this.off();\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\n</script>\r\n\r\n<!--\r\n<style lang='sass' src=\"./scss/upload.scss\">\r\n</style> -->\r\n\r\n<style>\r\n@charset \"UTF-8\";\r\n@-webkit-keyframes vicp_progress {\r\n  0% {\r\n    background-position-y: 0; }\r\n  100% {\r\n    background-position-y: 40px; } }\r\n@keyframes vicp_progress {\r\n  0% {\r\n    background-position-y: 0; }\r\n  100% {\r\n    background-position-y: 40px; } }\r\n\r\n@-webkit-keyframes vicp {\r\n  0% {\r\n    opacity: 0;\r\n    -webkit-transform: scale(0) translatey(-60px);\r\n            transform: scale(0) translatey(-60px); }\r\n  100% {\r\n    opacity: 1;\r\n    -webkit-transform: scale(1) translatey(0);\r\n            transform: scale(1) translatey(0); } }\r\n\r\n@keyframes vicp {\r\n  0% {\r\n    opacity: 0;\r\n    -webkit-transform: scale(0) translatey(-60px);\r\n            transform: scale(0) translatey(-60px); }\r\n  100% {\r\n    opacity: 1;\r\n    -webkit-transform: scale(1) translatey(0);\r\n            transform: scale(1) translatey(0); } }\r\n\r\n.vue-image-crop-upload {\r\n  position: fixed;\r\n  display: block;\r\n  -webkit-box-sizing: border-box;\r\n          box-sizing: border-box;\r\n  z-index: 10000;\r\n  top: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: rgba(0, 0, 0, 0.65);\r\n  -webkit-tap-highlight-color: transparent;\r\n  -moz-tap-highlight-color: transparent; }\r\n  .vue-image-crop-upload .vicp-wrap {\r\n    -webkit-box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.23);\r\n            box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.23);\r\n    position: fixed;\r\n    display: block;\r\n    -webkit-box-sizing: border-box;\r\n            box-sizing: border-box;\r\n    z-index: 10000;\r\n    top: 0;\r\n    bottom: 0;\r\n    left: 0;\r\n    right: 0;\r\n    margin: auto;\r\n    width: 600px;\r\n    height: 330px;\r\n    padding: 25px;\r\n    background-color: #fff;\r\n    border-radius: 2px;\r\n    -webkit-animation: vicp 0.12s ease-in;\r\n            animation: vicp 0.12s ease-in; }\r\n    .vue-image-crop-upload .vicp-wrap .vicp-close {\r\n      position: absolute;\r\n      right: -30px;\r\n      top: -30px; }\r\n      .vue-image-crop-upload .vicp-wrap .vicp-close .vicp-icon4 {\r\n        position: relative;\r\n        display: block;\r\n        width: 30px;\r\n        height: 30px;\r\n        cursor: pointer;\r\n        -webkit-transition: -webkit-transform 0.18s;\r\n        transition: -webkit-transform 0.18s;\r\n        transition: transform 0.18s;\r\n        transition: transform 0.18s, -webkit-transform 0.18s;\r\n        -webkit-transform: rotate(0);\r\n            -ms-transform: rotate(0);\r\n                transform: rotate(0); }\r\n        .vue-image-crop-upload .vicp-wrap .vicp-close .vicp-icon4::after, .vue-image-crop-upload .vicp-wrap .vicp-close .vicp-icon4::before {\r\n          -webkit-box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.23);\r\n                  box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.23);\r\n          content: '';\r\n          position: absolute;\r\n          top: 12px;\r\n          left: 4px;\r\n          width: 20px;\r\n          height: 3px;\r\n          -webkit-transform: rotate(45deg);\r\n              -ms-transform: rotate(45deg);\r\n                  transform: rotate(45deg);\r\n          background-color: #fff; }\r\n        .vue-image-crop-upload .vicp-wrap .vicp-close .vicp-icon4::after {\r\n          -webkit-transform: rotate(-45deg);\r\n              -ms-transform: rotate(-45deg);\r\n                  transform: rotate(-45deg); }\r\n        .vue-image-crop-upload .vicp-wrap .vicp-close .vicp-icon4:hover {\r\n          -webkit-transform: rotate(90deg);\r\n              -ms-transform: rotate(90deg);\r\n                  transform: rotate(90deg); }\r\n    .vue-image-crop-upload .vicp-wrap .vicp-step1 .vicp-drop-area {\r\n      position: relative;\r\n      -webkit-box-sizing: border-box;\r\n              box-sizing: border-box;\r\n      padding: 35px;\r\n      height: 170px;\r\n      background-color: rgba(0, 0, 0, 0.03);\r\n      text-align: center;\r\n      border: 1px dashed rgba(0, 0, 0, 0.08);\r\n      overflow: hidden; }\r\n      .vue-image-crop-upload .vicp-wrap .vicp-step1 .vicp-drop-area .vicp-icon1 {\r\n        display: block;\r\n        margin: 0 auto 6px;\r\n        width: 42px;\r\n        height: 42px;\r\n        overflow: hidden; }\r\n        .vue-image-crop-upload .vicp-wrap .vicp-step1 .vicp-drop-area .vicp-icon1 .vicp-icon1-arrow {\r\n          display: block;\r\n          margin: 0 auto;\r\n          width: 0;\r\n          height: 0;\r\n          border-bottom: 14.7px solid rgba(0, 0, 0, 0.3);\r\n          border-left: 14.7px solid transparent;\r\n          border-right: 14.7px solid transparent; }\r\n        .vue-image-crop-upload .vicp-wrap .vicp-step1 .vicp-drop-area .vicp-icon1 .vicp-icon1-body {\r\n          display: block;\r\n          width: 12.6px;\r\n          height: 14.7px;\r\n          margin: 0 auto;\r\n          background-color: rgba(0, 0, 0, 0.3); }\r\n        .vue-image-crop-upload .vicp-wrap .vicp-step1 .vicp-drop-area .vicp-icon1 .vicp-icon1-bottom {\r\n          -webkit-box-sizing: border-box;\r\n                  box-sizing: border-box;\r\n          display: block;\r\n          height: 12.6px;\r\n          border: 6px solid rgba(0, 0, 0, 0.3);\r\n          border-top: none; }\r\n      .vue-image-crop-upload .vicp-wrap .vicp-step1 .vicp-drop-area .vicp-hint {\r\n        display: block;\r\n        padding: 15px;\r\n        font-size: 14px;\r\n        color: #666;\r\n        line-height: 30px; }\r\n      .vue-image-crop-upload .vicp-wrap .vicp-step1 .vicp-drop-area .vicp-no-supported-hint {\r\n        display: block;\r\n        position: absolute;\r\n        top: 0;\r\n        left: 0;\r\n        padding: 30px;\r\n        width: 100%;\r\n        height: 60px;\r\n        line-height: 30px;\r\n        background-color: #eee;\r\n        text-align: center;\r\n        color: #666;\r\n        font-size: 14px; }\r\n      .vue-image-crop-upload .vicp-wrap .vicp-step1 .vicp-drop-area:hover {\r\n        cursor: pointer;\r\n        border-color: rgba(0, 0, 0, 0.1);\r\n        background-color: rgba(0, 0, 0, 0.05); }\r\n    .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop {\r\n      overflow: hidden; }\r\n      .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left {\r\n        float: left; }\r\n        .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-img-container {\r\n          position: relative;\r\n          display: block;\r\n          width: 240px;\r\n          height: 180px;\r\n          background-color: #e5e5e0;\r\n          overflow: hidden; }\r\n          .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-img-container .vicp-img {\r\n            position: absolute;\r\n            display: block;\r\n            cursor: move;\r\n            -webkit-user-select: none;\r\n               -moz-user-select: none;\r\n                -ms-user-select: none;\r\n                    user-select: none; }\r\n          .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-img-container .vicp-img-shade {\r\n            -webkit-box-shadow: 0 2px 6px 0 rgba(0, 0, 0, 0.18);\r\n                    box-shadow: 0 2px 6px 0 rgba(0, 0, 0, 0.18);\r\n            position: absolute;\r\n            background-color: rgba(241, 242, 243, 0.8); }\r\n            .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-img-container .vicp-img-shade.vicp-img-shade-1 {\r\n              top: 0;\r\n              left: 0; }\r\n            .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-img-container .vicp-img-shade.vicp-img-shade-2 {\r\n              bottom: 0;\r\n              right: 0; }\r\n        .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-rotate {\r\n          position: relative;\r\n          width: 240px;\r\n          height: 18px; }\r\n          .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-rotate i {\r\n            display: block;\r\n            width: 18px;\r\n            height: 18px;\r\n            border-radius: 100%;\r\n            line-height: 18px;\r\n            text-align: center;\r\n            font-size: 12px;\r\n            font-weight: bold;\r\n            background-color: rgba(0, 0, 0, 0.08);\r\n            color: #fff;\r\n            overflow: hidden; }\r\n            .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-rotate i:hover {\r\n              -webkit-box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.12);\r\n                      box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.12);\r\n              cursor: pointer;\r\n              background-color: rgba(0, 0, 0, 0.14); }\r\n            .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-rotate i:first-child {\r\n              float: left; }\r\n            .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-rotate i:last-child {\r\n              float: right; }\r\n        .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range {\r\n          position: relative;\r\n          margin: 30px 0 10px 0;\r\n          width: 240px;\r\n          height: 18px; }\r\n          .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range .vicp-icon5,\r\n          .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range .vicp-icon6 {\r\n            position: absolute;\r\n            top: 0;\r\n            width: 18px;\r\n            height: 18px;\r\n            border-radius: 100%;\r\n            background-color: rgba(0, 0, 0, 0.08); }\r\n            .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range .vicp-icon5:hover,\r\n            .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range .vicp-icon6:hover {\r\n              -webkit-box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.12);\r\n                      box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.12);\r\n              cursor: pointer;\r\n              background-color: rgba(0, 0, 0, 0.14); }\r\n          .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range .vicp-icon5 {\r\n            left: 0; }\r\n            .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range .vicp-icon5::before {\r\n              position: absolute;\r\n              content: '';\r\n              display: block;\r\n              left: 3px;\r\n              top: 8px;\r\n              width: 12px;\r\n              height: 2px;\r\n              background-color: #fff; }\r\n          .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range .vicp-icon6 {\r\n            right: 0; }\r\n            .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range .vicp-icon6::before {\r\n              position: absolute;\r\n              content: '';\r\n              display: block;\r\n              left: 3px;\r\n              top: 8px;\r\n              width: 12px;\r\n              height: 2px;\r\n              background-color: #fff; }\r\n            .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range .vicp-icon6::after {\r\n              position: absolute;\r\n              content: '';\r\n              display: block;\r\n              top: 3px;\r\n              left: 8px;\r\n              width: 2px;\r\n              height: 12px;\r\n              background-color: #fff; }\r\n          .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range input[type=range] {\r\n            display: block;\r\n            padding-top: 5px;\r\n            margin: 0 auto;\r\n            width: 180px;\r\n            height: 8px;\r\n            vertical-align: top;\r\n            background: transparent;\r\n            -webkit-appearance: none;\r\n               -moz-appearance: none;\r\n                    appearance: none;\r\n            cursor: pointer;\r\n            /* 滑块\r\n\t\t\t\t\t\t\t ---------------------------------------------------------------*/\r\n            /* 轨道\r\n\t\t\t\t\t\t\t ---------------------------------------------------------------*/ }\r\n            .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range input[type=range]:focus {\r\n              outline: none; }\r\n            .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range input[type=range]::-webkit-slider-thumb {\r\n              -webkit-box-shadow: 0 2px 6px 0 rgba(0, 0, 0, 0.18);\r\n                      box-shadow: 0 2px 6px 0 rgba(0, 0, 0, 0.18);\r\n              -webkit-appearance: none;\r\n                      appearance: none;\r\n              margin-top: -3px;\r\n              width: 12px;\r\n              height: 12px;\r\n              background-color: #61c091;\r\n              border-radius: 100%;\r\n              border: none;\r\n              -webkit-transition: 0.2s;\r\n              transition: 0.2s; }\r\n            .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range input[type=range]::-moz-range-thumb {\r\n              box-shadow: 0 2px 6px 0 rgba(0, 0, 0, 0.18);\r\n              -moz-appearance: none;\r\n                   appearance: none;\r\n              width: 12px;\r\n              height: 12px;\r\n              background-color: #61c091;\r\n              border-radius: 100%;\r\n              border: none;\r\n              -webkit-transition: 0.2s;\r\n              transition: 0.2s; }\r\n            .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range input[type=range]::-ms-thumb {\r\n              box-shadow: 0 2px 6px 0 rgba(0, 0, 0, 0.18);\r\n              appearance: none;\r\n              width: 12px;\r\n              height: 12px;\r\n              background-color: #61c091;\r\n              border: none;\r\n              border-radius: 100%;\r\n              -webkit-transition: 0.2s;\r\n              transition: 0.2s; }\r\n            .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range input[type=range]:active::-moz-range-thumb {\r\n              box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.23);\r\n              width: 14px;\r\n              height: 14px; }\r\n            .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range input[type=range]:active::-ms-thumb {\r\n              box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.23);\r\n              width: 14px;\r\n              height: 14px; }\r\n            .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range input[type=range]:active::-webkit-slider-thumb {\r\n              -webkit-box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.23);\r\n                      box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.23);\r\n              margin-top: -4px;\r\n              width: 14px;\r\n              height: 14px; }\r\n            .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range input[type=range]::-webkit-slider-runnable-track {\r\n              -webkit-box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.12);\r\n                      box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.12);\r\n              width: 100%;\r\n              height: 6px;\r\n              cursor: pointer;\r\n              border-radius: 2px;\r\n              border: none;\r\n              background-color: rgba(68, 170, 119, 0.3); }\r\n            .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range input[type=range]::-moz-range-track {\r\n              box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.12);\r\n              width: 100%;\r\n              height: 6px;\r\n              cursor: pointer;\r\n              border-radius: 2px;\r\n              border: none;\r\n              background-color: rgba(68, 170, 119, 0.3); }\r\n            .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range input[type=range]::-ms-track {\r\n              box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.12);\r\n              width: 100%;\r\n              cursor: pointer;\r\n              background: transparent;\r\n              border-color: transparent;\r\n              color: transparent;\r\n              height: 6px;\r\n              border-radius: 2px;\r\n              border: none; }\r\n            .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range input[type=range]::-ms-fill-lower {\r\n              background-color: rgba(68, 170, 119, 0.3); }\r\n            .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range input[type=range]::-ms-fill-upper {\r\n              background-color: rgba(68, 170, 119, 0.15); }\r\n            .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range input[type=range]:focus::-webkit-slider-runnable-track {\r\n              background-color: rgba(68, 170, 119, 0.5); }\r\n            .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range input[type=range]:focus::-moz-range-track {\r\n              background-color: rgba(68, 170, 119, 0.5); }\r\n            .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range input[type=range]:focus::-ms-fill-lower {\r\n              background-color: rgba(68, 170, 119, 0.45); }\r\n            .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range input[type=range]:focus::-ms-fill-upper {\r\n              background-color: rgba(68, 170, 119, 0.25); }\r\n      .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-right {\r\n        float: right; }\r\n        .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-right .vicp-preview {\r\n          height: 150px;\r\n          overflow: hidden; }\r\n          .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-right .vicp-preview .vicp-preview-item {\r\n            position: relative;\r\n            padding: 5px;\r\n            width: 100px;\r\n            height: 100px;\r\n            float: left;\r\n            margin-right: 16px; }\r\n            .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-right .vicp-preview .vicp-preview-item span {\r\n              position: absolute;\r\n              bottom: -30px;\r\n              width: 100%;\r\n              font-size: 14px;\r\n              color: #bbb;\r\n              display: block;\r\n              text-align: center; }\r\n            .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-right .vicp-preview .vicp-preview-item img {\r\n              position: absolute;\r\n              display: block;\r\n              top: 0;\r\n              bottom: 0;\r\n              left: 0;\r\n              right: 0;\r\n              margin: auto;\r\n              padding: 3px;\r\n              background-color: #fff;\r\n              border: 1px solid rgba(0, 0, 0, 0.15);\r\n              overflow: hidden;\r\n              -webkit-user-select: none;\r\n                 -moz-user-select: none;\r\n                  -ms-user-select: none;\r\n                      user-select: none; }\r\n            .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-right .vicp-preview .vicp-preview-item.vicp-preview-item-circle {\r\n              margin-right: 0; }\r\n              .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-right .vicp-preview .vicp-preview-item.vicp-preview-item-circle img {\r\n                border-radius: 100%; }\r\n    .vue-image-crop-upload .vicp-wrap .vicp-step3 .vicp-upload {\r\n      position: relative;\r\n      -webkit-box-sizing: border-box;\r\n              box-sizing: border-box;\r\n      padding: 35px;\r\n      height: 170px;\r\n      background-color: rgba(0, 0, 0, 0.03);\r\n      text-align: center;\r\n      border: 1px dashed #ddd; }\r\n      .vue-image-crop-upload .vicp-wrap .vicp-step3 .vicp-upload .vicp-loading {\r\n        display: block;\r\n        padding: 15px;\r\n        font-size: 16px;\r\n        color: #999;\r\n        line-height: 30px; }\r\n      .vue-image-crop-upload .vicp-wrap .vicp-step3 .vicp-upload .vicp-progress-wrap {\r\n        margin-top: 12px;\r\n        background-color: rgba(0, 0, 0, 0.08);\r\n        border-radius: 3px; }\r\n        .vue-image-crop-upload .vicp-wrap .vicp-step3 .vicp-upload .vicp-progress-wrap .vicp-progress {\r\n          position: relative;\r\n          display: block;\r\n          height: 5px;\r\n          border-radius: 3px;\r\n          background-color: #4a7;\r\n          -webkit-box-shadow: 0 2px 6px 0 rgba(68, 170, 119, 0.3);\r\n                  box-shadow: 0 2px 6px 0 rgba(68, 170, 119, 0.3);\r\n          -webkit-transition: width 0.15s linear;\r\n          transition: width 0.15s linear;\r\n          background-image: -webkit-linear-gradient(135deg, rgba(255, 255, 255, 0.2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.2) 50%, rgba(255, 255, 255, 0.2) 75%, transparent 75%, transparent);\r\n          background-image: linear-gradient(-45deg, rgba(255, 255, 255, 0.2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.2) 50%, rgba(255, 255, 255, 0.2) 75%, transparent 75%, transparent);\r\n          background-size: 40px 40px;\r\n          -webkit-animation: vicp_progress 0.5s linear infinite;\r\n                  animation: vicp_progress 0.5s linear infinite; }\r\n          .vue-image-crop-upload .vicp-wrap .vicp-step3 .vicp-upload .vicp-progress-wrap .vicp-progress::after {\r\n            content: '';\r\n            position: absolute;\r\n            display: block;\r\n            top: -3px;\r\n            right: -3px;\r\n            width: 9px;\r\n            height: 9px;\r\n            border: 1px solid rgba(245, 246, 247, 0.7);\r\n            -webkit-box-shadow: 0 1px 4px 0 rgba(68, 170, 119, 0.7);\r\n                    box-shadow: 0 1px 4px 0 rgba(68, 170, 119, 0.7);\r\n            border-radius: 100%;\r\n            background-color: #4a7; }\r\n      .vue-image-crop-upload .vicp-wrap .vicp-step3 .vicp-upload .vicp-error,\r\n      .vue-image-crop-upload .vicp-wrap .vicp-step3 .vicp-upload .vicp-success {\r\n        height: 100px;\r\n        line-height: 100px; }\r\n    .vue-image-crop-upload .vicp-wrap .vicp-operate {\r\n      position: absolute;\r\n      right: 20px;\r\n      bottom: 20px; }\r\n      .vue-image-crop-upload .vicp-wrap .vicp-operate a {\r\n        position: relative;\r\n        float: left;\r\n        display: block;\r\n        margin-left: 10px;\r\n        width: 100px;\r\n        height: 36px;\r\n        line-height: 36px;\r\n        text-align: center;\r\n        cursor: pointer;\r\n        font-size: 14px;\r\n        color: #4a7;\r\n        border-radius: 2px;\r\n        overflow: hidden;\r\n        -webkit-user-select: none;\r\n           -moz-user-select: none;\r\n            -ms-user-select: none;\r\n                user-select: none; }\r\n        .vue-image-crop-upload .vicp-wrap .vicp-operate a:hover {\r\n          background-color: rgba(0, 0, 0, 0.03); }\r\n    .vue-image-crop-upload .vicp-wrap .vicp-error,\r\n    .vue-image-crop-upload .vicp-wrap .vicp-success {\r\n      display: block;\r\n      font-size: 14px;\r\n      line-height: 24px;\r\n      height: 24px;\r\n      color: #d10;\r\n      text-align: center;\r\n      vertical-align: top; }\r\n    .vue-image-crop-upload .vicp-wrap .vicp-success {\r\n      color: #4a7; }\r\n    .vue-image-crop-upload .vicp-wrap .vicp-icon3 {\r\n      position: relative;\r\n      display: inline-block;\r\n      width: 20px;\r\n      height: 20px;\r\n      top: 4px; }\r\n      .vue-image-crop-upload .vicp-wrap .vicp-icon3::after {\r\n        position: absolute;\r\n        top: 3px;\r\n        left: 6px;\r\n        width: 6px;\r\n        height: 10px;\r\n        border-width: 0 2px 2px 0;\r\n        border-color: #4a7;\r\n        border-style: solid;\r\n        -webkit-transform: rotate(45deg);\r\n            -ms-transform: rotate(45deg);\r\n                transform: rotate(45deg);\r\n        content: ''; }\r\n    .vue-image-crop-upload .vicp-wrap .vicp-icon2 {\r\n      position: relative;\r\n      display: inline-block;\r\n      width: 20px;\r\n      height: 20px;\r\n      top: 4px; }\r\n      .vue-image-crop-upload .vicp-wrap .vicp-icon2::after, .vue-image-crop-upload .vicp-wrap .vicp-icon2::before {\r\n        content: '';\r\n        position: absolute;\r\n        top: 9px;\r\n        left: 4px;\r\n        width: 13px;\r\n        height: 2px;\r\n        background-color: #d10;\r\n        -webkit-transform: rotate(45deg);\r\n            -ms-transform: rotate(45deg);\r\n                transform: rotate(45deg); }\r\n      .vue-image-crop-upload .vicp-wrap .vicp-icon2::after {\r\n        -webkit-transform: rotate(-45deg);\r\n            -ms-transform: rotate(-45deg);\r\n                transform: rotate(-45deg); }\r\n\r\n.e-ripple {\r\n  position: absolute;\r\n  border-radius: 100%;\r\n  background-color: rgba(0, 0, 0, 0.15);\r\n  background-clip: padding-box;\r\n  pointer-events: none;\r\n  -webkit-user-select: none;\r\n     -moz-user-select: none;\r\n      -ms-user-select: none;\r\n          user-select: none;\r\n  -webkit-transform: scale(0);\r\n      -ms-transform: scale(0);\r\n          transform: scale(0);\r\n  opacity: 1; }\r\n  .e-ripple.z-active {\r\n    opacity: 0;\r\n    -webkit-transform: scale(2);\r\n        -ms-transform: scale(2);\r\n            transform: scale(2);\r\n    -webkit-transition: opacity 1.2s ease-out, -webkit-transform 0.6s ease-out;\r\n    transition: opacity 1.2s ease-out, -webkit-transform 0.6s ease-out;\r\n    transition: opacity 1.2s ease-out, transform 0.6s ease-out;\r\n    transition: opacity 1.2s ease-out, transform 0.6s ease-out, -webkit-transform 0.6s ease-out; }\r\n\r\n</style>\r\n"]}]}